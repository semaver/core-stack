<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@semaver/reflector - v1.0.2 | Semaver Libraries - v1.0.2</title><meta name="description" content="Documentation for Semaver Libraries"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base="..">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Semaver Libraries - v1.0.2</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="#icon-menu"></use></svg></a></div></div></header>
<div class="container container-main">
<div class="col-content">
<div class="tsd-page-title">
<ul class="tsd-breadcrumb">
<li><a href="../index.html">Semaver Libraries</a></li>
<li><a href="_semaver_reflector.html">@semaver/reflector</a></li></ul>
<h1>Module @semaver/reflector - v1.0.2</h1></div>
<section class="tsd-panel tsd-typography"><a id="md:semaverreflector" class="tsd-anchor"></a><h1><a href="#md:semaverreflector">@semaver/reflector</a></h1><p>An extensive way to deal with classes. </p>
<a id="md:about" class="tsd-anchor"></a><h2><a href="#md:about">About</a></h2><p><strong><code>reflector</code></strong> package does a full examination of TypeScript classes. It provides an extensive mechanism for querying and filtering detailed information about class structure. The package supports the reflection of decorated class members and parameters with the help of the built-in concept of <a href="#annotation-decorators">Annotation Decorators</a>. Annotation Decorators are the decoration mechanism for the code annotations in TypeScript. In other words, it provides the possibility to label different class members and parameters. <strong><code>reflector</code></strong> covers sophisticated cases of working with such decorators, like dynamic decoration on runtime and inheritance of decorated class members.</p>
<a id="md:features" class="tsd-anchor"></a><h2><a href="#md:features">Features</a></h2><ul>
<li>Acquiring detailed class information via annotated class members and parameters.</li>
<li>Static and dynamic annotation (static: via @decorators; dynamic: on runtime, e.g. for third-party libs)</li>
<li>Handling inheritance of annotated class members and parameters with the help of the <a href="#decoration-policies">Decoration Policies</a>.</li>
</ul>
<a id="md:requirements" class="tsd-anchor"></a><h2><a href="#md:requirements">Requirements</a></h2><p>To be able to use <code>@decorator()</code> syntaxis in <strong>Typescript</strong> its required to configure <code>tsconfig.json</code> file, however it is possible to avoid this by using <a href="#decorate-class-members-and-parameters-dynamically">dynamic decoration</a> (also works for <strong>Javascript</strong> projects)</p>
<pre><code class="language-json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">&quot;compilerOptions&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">  </span><span class="hl-9">...</span><br/><span class="hl-1">    </span><span class="hl-8">&quot;experimentalDecorators&quot;</span><span class="hl-1">: </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-8">&quot;emitDecoratorMetadata&quot;</span><span class="hl-1">: </span><span class="hl-2">true</span><span class="hl-1">           </span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<blockquote>
<p>:warning: <strong>Important!</strong> Support of Typescript 5.x decorators will be avalble after release of &quot;decorated parameters&quot;</p>
<p> <a href="https://devblogs.microsoft.com/typescript/announcing-typescript-5-0/">Link</a> &rarr; &quot;Differences with Experimental Legacy Decorators&quot;</p>
</blockquote>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> @</span><span class="hl-0">semaver</span><span class="hl-1">/</span><span class="hl-0">reflector</span><span class="hl-1"> --</span><span class="hl-0">peer</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">semaver</span><span class="hl-1">/</span><span class="hl-0">reflector</span><span class="hl-1">  </span>
</code><button>Copy</button></pre>
<blockquote>
<p>:warning: <strong>Important!</strong> Please, pay attention, that this package has a <strong>peer dependency to <code>@semaver/core</code></strong>
library.</p>
<p>:warning: <strong>Important!</strong> Please, install the library as <strong>peer</strong> dependency if possible.</p>
</blockquote>
<a id="md:get-started" class="tsd-anchor"></a><h1><a href="#md:get-started">Get Started</a></h1><p>To get familiar with Reflector API, we will go through simple examples.</p>
<p><strong>Examples Setup</strong>: We are trying to develop software that will automatically add getters &amp; setters to the class properties. Let&#39;s have a look at how the <strong><code>reflector</code></strong> package and its built-in <a href="#annotation-decorators">Annotation Decorators</a> can help us with it.</p>
<a id="md:examples-setup-preparation" class="tsd-anchor"></a><h2><a href="#md:examples-setup-preparation">Examples Setup Preparation</a></h2><p>Since our sample software should add getters &amp; setters to the class property, let&#39;s define an example method that we can use for this purposes:</p>
<pre><code class="language-ts"><span class="hl-10">//Example function how to add accessors to the class property</span><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">addAccessors</span><span class="hl-1">&lt;</span><span class="hl-3">T</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1"> = </span><span class="hl-3">object</span><span class="hl-1">&gt;(</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">T</span><span class="hl-1">, </span><span class="hl-0">obj</span><span class="hl-1">: </span><span class="hl-3">T</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">privateKey</span><span class="hl-1">: </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">T</span><span class="hl-1"> = </span><span class="hl-7">&quot;_&quot;</span><span class="hl-1"> + </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">() </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">T</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-6">defineProperty</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">, </span><span class="hl-0">privateKey</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">obj</span><span class="hl-1">[</span><span class="hl-0">key</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-0">writable:</span><span class="hl-1"> </span><span class="hl-2">true</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-6">defineProperty</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">, </span><span class="hl-0">key</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">get</span><span class="hl-0">:</span><span class="hl-1"> () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">&quot;GET: &quot;</span><span class="hl-1"> + </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">obj</span><span class="hl-1">[</span><span class="hl-0">privateKey</span><span class="hl-1">];</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-6">set</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">value</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">&quot;SET: &quot;</span><span class="hl-1"> + </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-0">obj</span><span class="hl-1">[</span><span class="hl-0">privateKey</span><span class="hl-1">] = </span><span class="hl-0">value</span><span class="hl-1">;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>To add accessors to the class, we need to define a couple of sample classes on which we will test our code:</p>
<pre><code class="language-ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Circle</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1"> (</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">radius</span><span class="hl-1"> = </span><span class="hl-0">radius</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>To simplify our code and to show the whole power of the built-in <a href="#annotation-decorators">Annotation Decorators</a> of the <strong><code>reflector</code></strong> package, we create an annotation decorator. It will be used to mark the properties that have to be updated with accessors.</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">Decorator</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">DecoratorFn</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">accessors</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AccessorsDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AccessorsDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The final preparation step is to annotate our sample class properties with the <code>@accessors</code> annotation decorator:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">accessors</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;../decorators/AccessorsDecorator&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Now, we are all set to explore the Reflector possibilities!</p>
<a id="md:example-1-how-to-get-class-members-with-reflector-api" class="tsd-anchor"></a><h2><a href="#md:example-1-how-to-get-class-members-with-reflector-api">Example 1: How to get class members with Reflector API</a></h2><p>To apply our logic of adding accessors to the property we can use Reflector API. It will get us the properties from the class. We can do that in many ways:</p>
<ol>
<li>via the property name one by one;</li>
<li>as a group of all annotated class properties;</li>
<li>via the Reflector Query API to get the an array of the all annotated class properties.</li>
</ol>
<a id="md:example-11-get-property-by-name" class="tsd-anchor"></a><h3><a href="#md:example-11-get-property-by-name">Example 1.1 Get Property By Name</a></h3><blockquote>
<p>:information_source: More information on Reflector API and how to get other class members and parameters can be found here: <a href="#get-class-members-and-paramters">Get Class Members and Paramters</a></p>
</blockquote>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Property</span><span class="hl-1">, </span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//Get property by name</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">xProperty</span><span class="hl-1">: </span><span class="hl-3">Property</span><span class="hl-1"> = </span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">getProperty</span><span class="hl-1">(</span><span class="hl-7">&quot;x&quot;</span><span class="hl-1">, </span><span class="hl-2">false</span><span class="hl-1">);</span><br/><br/><span class="hl-10">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-6">addAccessors</span><span class="hl-1">(</span><span class="hl-0">xProperty</span><span class="hl-1">.</span><span class="hl-6">getName</span><span class="hl-1">() </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Shape</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1"> : </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">,</span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-7">&quot;red&quot;</span><span class="hl-1">); </span><span class="hl-10">//CONSOLE: SET x</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">); </span><span class="hl-10">// CONSOLE: GET: x; 3</span>
</code><button>Copy</button></pre>
<a id="md:example-12-get-annotated-properties" class="tsd-anchor"></a><h3><a href="#md:example-12-get-annotated-properties">Example 1.2: Get Annotated Properties</a></h3><blockquote>
<p>:information_source: Detailed information on how to create and use Annotation Decorators can be found here: <a href="#annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//Get all decorated properties</span><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedProperties</span><span class="hl-1">().</span><span class="hl-6">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-1">  </span><span class="hl-6">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-6">getName</span><span class="hl-1">() </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Shape</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-10">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1">: </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-7">&quot;red&quot;</span><span class="hl-1">); </span><span class="hl-10">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">); </span><span class="hl-10">// CONSOLE: GET: x; 3</span>
</code><button>Copy</button></pre>
<a id="md:example-13-get-property-by-query" class="tsd-anchor"></a><h3><a href="#md:example-13-get-property-by-query">Example 1.3: Get Property By Query</a></h3><blockquote>
<p>:information_source: More information on Reflector API and how to query annotated class members and parameters can be found here: <a href="#query-class-members-and-parameters">Query Class Members and Parameters</a></p>
</blockquote>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">ByMemberType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">ClassMember</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">DecoratedElementType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">QueryExecutor</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">Reflector</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//Create query instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">query</span><span class="hl-1">();</span><br/><br/><span class="hl-10">//Filter query to get all properties (get all class members that have &quot;PROPERTY&quot; type)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberTypeQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberType</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">DecoratedElementType</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">));</span><br/><br/><span class="hl-10">//Get the result from the query as an array of properties</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">members</span><span class="hl-1">: </span><span class="hl-3">ClassMember</span><span class="hl-1">[] = </span><span class="hl-0">byMemberTypeQuery</span><span class="hl-1">.</span><span class="hl-6">members</span><span class="hl-1">().</span><span class="hl-6">all</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt;&gt;();</span><br/><br/><span class="hl-10">//Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-0">members</span><span class="hl-1">.</span><span class="hl-6">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-6">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-6">getName</span><span class="hl-1">() </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Shape</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">));</span><br/><br/><span class="hl-10">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1"> : </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">,</span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-7">&quot;red&quot;</span><span class="hl-1">); </span><span class="hl-10">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">); </span><span class="hl-10">// CONSOLE: GET: x; 3</span>
</code><button>Copy</button></pre>
<a id="md:example-2-how-to-work-with-annotation-decorator-policies" class="tsd-anchor"></a><h2><a href="#md:example-2-how-to-work-with-annotation-decorator-policies">Example 2: How to work with annotation decorator policies</a></h2><p><a href="#annotation-decorators">Annotation Decorators</a> unlock the power of <a href="#decoration-policies">Decoration Policies</a>, which we will investigate in this and further examples. </p>
<blockquote>
<p>:information_source: Detailed information on all available Decoration Policies and their properties can be found here: <a href="#decoration-policies">Decoration Policies</a></p>
</blockquote>
<p>We agreed to add accessors to the class properties. So we can limit our <code>@accessors</code> annotation to the class properties only. This can be done with the help of <a href="#access-policy">Access Policy</a>, which we need to configure for the annotation decorator:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">Decorator</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">DecoratorFn</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">accessors</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AccessorsDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AccessorsDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">//Add Access Policy and configure it to make annotation available to class properties only</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Now we add the <code>@accessors</code> annotation to the Shape class properties and draw() method to make sure that <code>@accessors</code> will be just ignored on everything that is not a class property:</p>
<pre><code class="language-ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-10">//This annotation is not allowed by Access Policy, so will be just ignored</span><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>So let&#39;s check, that Reflector will see 3 annotated Shape class properties but won&#39;t find any annotated method:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">reflector</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//Check that Reflector sees 3 decorated properties</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedProperties</span><span class="hl-1">()); </span><span class="hl-10">// CONSOLE: [Property, Property, Property]</span><br/><br/><span class="hl-10">//Check that Reflector sees any decorated methods</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedMethods</span><span class="hl-1">()); </span><span class="hl-10">// CONSOLE: []</span>
</code><button>Copy</button></pre>
<a id="md:example-3-how-to-work-with-annotation-decorator-inheritance" class="tsd-anchor"></a><h2><a href="#md:example-3-how-to-work-with-annotation-decorator-inheritance">Example 3: How to work with annotation decorator inheritance</a></h2><p>As classes in TS support inheritance, <a href="#annotation-decorators">Annotation Decorators</a> support it as well for the same class member and parameter. It is regulated via Inheritance <a href="#decoration-policies">Decoration Policies</a>: <a href="#collision-policy">Collision Policy</a>, <a href="#not-existence-policy">Not-Existence Policy</a>, <a href="#appearance-policy">Appearance Policy</a>.</p>
<p>We will see how it works on the example of <a href="#not-existence-policy">Not-Existence Policy</a>. It defines the behavior of the decorator, if it does <strong>NOT EXIST</strong> in the child class, but <strong>EXISTS</strong> in its direct parent class for the same class member or argument.</p>
<p><a href="#not-existence-policy">Not-Existence Policy</a> has 2 values:</p>
<ul>
<li><code>SKIP</code> - decorator from the direct parent class is <strong>not used</strong> for the child class;</li>
<li><code>APPLY</code> - decorator from the direct parent class is <strong>used</strong> for the child class.</li>
</ul>
<p> In our original example: Shape class is a parent class and Circle is a child class. We assume that we want Circle class to also have inherited properties annotated, so the <a href="#not-existence-policy">Not-Existence Policy</a> should be set to <code>APPLY</code>. 
 To make this happen, we need to add it to the <code>@accessors</code> annotation decorator:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-0">Decorator</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">DecoratorFn</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">PrimitiveMetadataAccessPolicy</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">accessors</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AccessorsDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AccessorsDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">       </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">;</span><br/><span class="hl-1">   }</span><br/><br/><span class="hl-1">   </span><span class="hl-10">// Add Not-Existence Policy to enforce the inheritance of the annotations for inherited properties</span><br/><span class="hl-1">   </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">       </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">.</span><span class="hl-5">APPLY</span><span class="hl-1">;</span><br/><span class="hl-1">   }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<blockquote>
<p>:information_source: <a href="#not-existence-policy">Not-Existence Policy</a>: <code>APPLY</code> is actually the default value for this policy. So there is no need to redefine it again in AccessorsDecorator class, cause it will be default behavior anyway. But we are doing it in this example for better visibility and understanding.</p>
</blockquote>
<p> Now we can check that even without setting anything explicitly in the Circle class, Reflector can see inherited properties as annotated, so we can get them and apply our update with accessors logic:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">circleReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Circle</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">Circle</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//Get decorated properties in Circle via Not-Existence Policy</span><br/><span class="hl-0">circleReflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedProperties</span><span class="hl-1">().</span><span class="hl-6">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1"> </span><span class="hl-10">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-1"> </span><span class="hl-6">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-6">getName</span><span class="hl-1">() </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Circle</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-10">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myCircle</span><span class="hl-1">: </span><span class="hl-3">Circle</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Circle</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-7">&quot;red&quot;</span><span class="hl-1">, </span><span class="hl-11">5</span><span class="hl-1">);</span><span class="hl-10">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">myCircle</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">);</span><span class="hl-10">// CONSOLE: GET: x; 3</span>
</code><button>Copy</button></pre>
<a id="md:example-4-how-to-get-all-annotated-properties-in-all-classes" class="tsd-anchor"></a><h2><a href="#md:example-4-how-to-get-all-annotated-properties-in-all-classes">Example 4: How to get all annotated properties in all classes</a></h2><p>As a final step, we need to make our approach to update class properties with accessors as general as possible, so it will be good not to rely on concrete classes and property names. <strong><code>reflector</code></strong> package gives us such possibility. It has centralized storage for the decorated classes(classes that contain decorated members and parameters), called ClassTable.</p>
<blockquote>
<p>:information_source: Detailed information on ClassTable and how to get all decorated classes can be found here: <a href="#get-all-decorated-classes">Get All Decorated Classes</a></p>
</blockquote>
<p>We can see how it works in our Shape-Circle example. We need to add the <code>@accessors</code> annotation to the <code>Circle.radius</code> property, to cover all existing properties:</p>
<pre><code class="language-ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Circle</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">radius</span><span class="hl-1"> = </span><span class="hl-0">radius</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Now we can check how all properties in both classes will be seen by Reflector and we can update them with accessors:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">// Reflect has direct access to the ClassTable from where it can get all decorated classes</span><br/><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">getClassTable</span><span class="hl-1">().</span><span class="hl-6">getClasses</span><span class="hl-1">().</span><span class="hl-6">forEach</span><span class="hl-1">(</span><span class="hl-0">cls</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-10">//Create Reflector instance</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">cls</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-10">//Get all decorated properties from the class</span><br/><span class="hl-1">  </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedProperties</span><span class="hl-1">().</span><span class="hl-6">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-10">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-1">    </span><span class="hl-6">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-6">getName</span><span class="hl-1">() </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">cls</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-10">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1">: </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-7">&quot;red&quot;</span><span class="hl-1">);</span><span class="hl-10">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">);</span><span class="hl-10">// CONSOLE: GET: x; 3</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myCircle</span><span class="hl-1">: </span><span class="hl-3">Circle</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">Circle</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-7">&quot;red&quot;</span><span class="hl-1">, </span><span class="hl-11">5</span><span class="hl-1">);</span><span class="hl-10">//CONSOLE: SET x; SET y; SET color; SET: radius</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">myCircle</span><span class="hl-1">.</span><span class="hl-0">radius</span><span class="hl-1">);</span><span class="hl-10">// CONSOLE: GET: radius; 5</span>
</code><button>Copy</button></pre>
<a id="md:example-5-how-to-annotate-class-dynamically" class="tsd-anchor"></a><h2><a href="#md:example-5-how-to-annotate-class-dynamically">Example 5: How to annotate class dynamically</a></h2><p>In the previous examples, we were working with statically annotated classes. The Reflector API gives us the possibility to annotate class members and parameters dynamically during run-time (e.g. for some library class).</p>
<blockquote>
<p>:information_source: Detailed information on dynamic class annotation can be found here: <a href="#decorate-class-members-and-parameters-dynamically">Decorate Class Members &amp; Parameters Dynamically</a></p>
</blockquote>
<p>Let&#39;s try it on our basic sample class <code>Shape</code> without any static annotations:</p>
<pre><code class="language-ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-7">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>To do this, we only need to call the <code>addDecorator()</code> method of the Reflector with the annotation decorator method <code>accessors()</code> as a parameter:</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-10">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">getProperty</span><span class="hl-1">(</span><span class="hl-7">&quot;x&quot;</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">accessors</span><span class="hl-1">());</span><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">getProperty</span><span class="hl-1">(</span><span class="hl-7">&quot;y&quot;</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">accessors</span><span class="hl-1">());</span><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-6">getAccessor</span><span class="hl-1">(</span><span class="hl-7">&quot;color&quot;</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">accessors</span><span class="hl-1">());</span>
</code><button>Copy</button></pre>
<a id="md:reflector-documentation" class="tsd-anchor"></a><h1><a href="#md:reflector-documentation">Reflector Documentation</a></h1><ul>
<li><a href="#reflector-api">Reflector API</a><ul>
<li><a href="#reflected-types">Reflected Types</a></li>
<li><a href="#get-class-members-and-paramters">Get Class Members and Paramters</a></li>
<li><a href="#query-class-members-and-parameters">Query Class Members and Parameters</a></li>
<li><a href="#filter-class-members-and-parameters">Filter Class Members and Parameters</a><ul>
<li><a href="#custom-filters">Custom Filters</a></li>
</ul>
</li>
<li><a href="#decorate-class-members-and-parameters-dynamically">Decorate Class Members &amp; Parameters Dynamically</a></li>
<li><a href="#get-all-decorated-classes">Get All Decorated Classes</a></li>
</ul>
</li>
<li><a href="#annotation-decorators">Annotation Decorators</a><ul>
<li><a href="#create-annotation-decorators">Create Annotation Decorators</a><ul>
<li><a href="#step-1-define-decorator-function">STEP 1: Define Decorator Function</a></li>
<li><a href="#step-2-define-decorator-class">STEP 2: Define Decorator Class</a></li>
<li><a href="#optional-step-3-define-decoration-policies">[OPTIONAL] STEP 3: Define Decoration Policies</a></li>
<li><a href="#optional-step-4-define-decorator-paramters">[OPTIONAL] STEP 4: Define Decorator Paramters</a></li>
</ul>
</li>
<li><a href="#use-annotation-decorators">Use Annotation Decorators</a></li>
<li><a href="#decoration-policies">Decoration Policies</a><ul>
<li><a href="#access-policy">Access Policy</a></li>
<li><a href="#same-target-multi-usage-policy">Same-Target-Multi-Usage Policy</a></li>
<li><a href="#collision-policy">Collision Policy</a></li>
<li><a href="#not-existence-policy">Not-Existence Policy</a></li>
<li><a href="#appearance-policy">Appearance Policy</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#architectural-notes">Architectural Notes</a><ul>
<li><a href="#reflected-types-architecture">Reflected Types Architecture</a></li>
<li><a href="#behind-the-scene-of-annotation-decorators">Behind the Scene of Annotation Decorators</a></li>
<li><a href="#annotation-decorators-usage-for-constructor-parameters">Annotation Decorators Usage for Constructor Parameters</a></li>
</ul>
</li>
</ul>
<a id="md:reflector-api" class="tsd-anchor"></a><h2><a href="#md:reflector-api">Reflector API</a></h2><p>The main goal of the reflection is to provide information about class structure. The <strong><code>reflector</code></strong> package gives you the possibility to access class members and parameters directly by name or query annotated structural items by some condition. The annotations <strong>HAVE TO</strong> be built on the <a href="#annotation-decorators">Annotation Decorators</a> mechanism, that is provided by this package, otherwise class members and parameters won&#39;t be visible to the Reflector.</p>
<blockquote>
<p>:information_source: <a href="#annotation-decorators">Annotation Decorators</a> is the decoration mechanism for the code annotations in TypeScript. It provides the possibility to label different class members and parameters. How to create and use annotation decorators can be found here: <a href="#annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<p>To get access to the Reflector API, the Reflector object has to be created. It can be done in 2 ways:</p>
<ul>
<li>with reflected class type;</li>
<li>with reflected class instance.</li>
</ul>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someReflector1</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">SomeClass</span><span class="hl-1">);</span><br/><span class="hl-10">// or</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">instance</span><span class="hl-1">: </span><span class="hl-3">SomeClass</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">SomeClass</span><span class="hl-1">();</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someReflector2</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">instance</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<blockquote>
<p>:information_source: Method <code>from()</code> takes 2 parameters: 1. class type/instance 2. <code>autoSync</code> parameter(boolean: true/false). The <code>autoSync</code> parameter is used for the dynamic decoration. Its default value is false, which means that the Reflector will ignore dynamically added/removed decorators. When <code>autoSync</code> is set to true, it will make the Reflector automatically synchronize its state and see all changes that are made by dynamic decoration. More details on dynamic decoration can be found at <a href="#decorate-class-members-and-parameters-dynamically">Decorate Class Members &amp; Parameters Dynamically</a>.</p>
</blockquote>
<a id="md:reflected-types" class="tsd-anchor"></a><h3><a href="#md:reflected-types">Reflected Types</a></h3><p>There are four class member types and one parameter type, that Reflector can acquire:</p>
<pre><code class="language-ts"><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">ClassMemberType</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1"> = </span><span class="hl-7">&quot;CONSTRUCTOR&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PROPERTY</span><span class="hl-1"> = </span><span class="hl-7">&quot;PROPERTY&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">ACCESSOR</span><span class="hl-1"> = </span><span class="hl-7">&quot;ACCESSOR&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">METHOD</span><span class="hl-1"> = </span><span class="hl-7">&quot;METHOD&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">ParameterType</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER</span><span class="hl-1"> = </span><span class="hl-7">&quot;PARAMETER&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The reflected type is a wrapper class under the relevant language construction, that helps to properly encapsulate necessary information about the requested class member or parameter. </p>
<blockquote>
<p>:information_source: More details on reflected types can be found at <a href="#reflected-types-architecture">Reflected Types Architecture</a>.</p>
</blockquote>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:get-class-members-and-paramters" class="tsd-anchor"></a><h3><a href="#md:get-class-members-and-paramters">Get Class Members and Paramters</a></h3><p>To retrieve necessary information from the class, you need to create a Reflector instance for this class and call the relevant API method. In the case of a decorated class member or parameter, the Reflector will return additional information about applied decorators.</p>
<blockquote>
<p>:warning: <strong>Important!</strong> If you want to get a class member or parameter by <strong>name</strong>, please beware of the obfuscation/minification level. During such procedures, the names can be changed. It will make a reflection of such class members or parameters not possible because the requested code won&#39;t be found.</p>
</blockquote>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">SomeClass</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---CONSTRUCTOR---------------------------------------------------------------------------</span><br/><br/><span class="hl-10">// returns constructor of a class (decorated or not)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">baseConstructor</span><span class="hl-1">: </span><span class="hl-3">Constructor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getConstructor</span><span class="hl-1">();</span><br/><br/><span class="hl-10">//---METHOD---------------------------------------------------------------------------------</span><br/><br/><span class="hl-10">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-10">// returns instance/static method by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">methodName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">&#39;myMethod&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isMethodStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someMethod</span><span class="hl-1">: </span><span class="hl-3">Method</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getMethod</span><span class="hl-1">(</span><span class="hl-0">methodName</span><span class="hl-1">, </span><span class="hl-0">isMethodStatic</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---FIELD (UNION OF ACCESSOR &amp; PROPERTY)----------------------------------------------------</span><br/><br/><span class="hl-10">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-10">// returns instance/static field by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">fieldName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">&#39;myField&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isFieldStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someField</span><span class="hl-1">: </span><span class="hl-3">Field</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getField</span><span class="hl-1">(</span><span class="hl-0">fieldName</span><span class="hl-1">, </span><span class="hl-0">isFieldStatic</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---ACCESSOR--------------------------------------------------------------------------------</span><br/><br/><span class="hl-10">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-10">// returns instance/static accessor by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">accessorName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">&#39;myAccessor&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isAccessorStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someAccessor</span><span class="hl-1">: </span><span class="hl-3">Accessor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><br/><span class="hl-1">      </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getAccessor</span><span class="hl-1">(</span><span class="hl-0">accessorName</span><span class="hl-1">, </span><span class="hl-0">isAccessorStatic</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---PROPERTY--------------------------------------------------------------------------------</span><br/><br/><span class="hl-10">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-10">// returns instance/static property by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">propertyName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">&#39;myProperty&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isPropertyStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someProperty</span><span class="hl-1">: </span><span class="hl-3">Property</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><br/><span class="hl-1">      </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getProperty</span><span class="hl-1">(</span><span class="hl-0">propertyName</span><span class="hl-1">, </span><span class="hl-0">isPropertyStatic</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>To ease the work with class annotation decorators, additional decorator-specific methods are provided:</p>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">SomeClass</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---ADDITIONAL ANNOTATION DECORATOR-SPESIFIC METHODS------------------------------------------------------</span><br/><br/><span class="hl-10">// if constructor or any parameters of the constructor are decorated,</span><br/><span class="hl-10">// returns constructor or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decoratedConstructor</span><span class="hl-1">: </span><span class="hl-3">Constructor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedConstructor</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns all decorated methods or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">methods</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Method</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedMethods</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns all decorated fields (accessors and properties) or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">fields</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Field</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedFields</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns all decorated accessors or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">accessors</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Accessor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedAccessors</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns all decorated properies or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">properies</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Property</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedProperties</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns all decorated constructor, methods, accessors, fields or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">members</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedMembers</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:query-class-members-and-parameters" class="tsd-anchor"></a><h3><a href="#md:query-class-members-and-parameters">Query Class Members and Parameters</a></h3><p>You can get different class members and parameters with the help of the Query API. But the <strong><code>reflector</code></strong> queries work only with annotated via <a href="#annotation-decorators">Annotation Decorators</a> class elements. Non-annotated elements will not be visible to the query mechanism.</p>
<blockquote>
<p>:information_source: How to create and use annotation decorators can be found here: <a href="#annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<pre><code class="language-ts"><span class="hl-10">// returns query executor from class info</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">).</span><span class="hl-6">query</span><span class="hl-1">();</span><br/><br/><span class="hl-10">//---CLASS MEMBERS---------------------------------------------------------------------------</span><br/><br/><span class="hl-10">// returns member selector from query</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberSelector</span><span class="hl-1">: </span><span class="hl-3">QueryMembersSelector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">members</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns class members from member selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">members</span><span class="hl-1">: </span><span class="hl-3">ClassMember</span><span class="hl-1">[] = </span><span class="hl-0">membersSelector</span><span class="hl-1">.</span><span class="hl-6">all</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&gt;()</span><br/><br/><span class="hl-10">// returns first class member from member selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">firstFoundMember</span><span class="hl-1">: </span><span class="hl-3">ClassMember</span><span class="hl-1"> = </span><span class="hl-0">membersSelector</span><span class="hl-1">.</span><span class="hl-6">first</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&gt;()</span><br/>
</code><button>Copy</button></pre>
<p>There is also an additional Query API for the annotation decorators. Since <a href="#annotation-decorators">Annotation Decorators</a> support inheritance of the decorated members and parameters, we differentiate between the decorators that will be actually executed and the class&#39;s own decorators that were explicitly assigned to exactly this class member or parameter. The actual execution might be influenced by the inheritance of the decorators and <a href="#decoration-policies">Decoration Policies</a> (if they are defined).</p>
<blockquote>
<p>:information_source:  Detailed information on decoration policies and their parameters can be found here: <a href="#decoration-policies">Decoration Policies</a></p>
</blockquote>
<pre><code class="language-ts"><span class="hl-10">//---CLASS MEMBER &amp; PARAMETER ANNOTATION DECORATORS----------------------------------------------------</span><br/><br/><span class="hl-10">// returns all decorators from query (incl. decoration inheritance &amp; acc. to decoration policies)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decoratorSelector</span><span class="hl-1">: </span><span class="hl-3">QueryDecoratorSelector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">decorators</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns all decorators from query (that belongs to this class only : no inheritance, no decoration policies applied)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">ownDecorators</span><span class="hl-1">: </span><span class="hl-3">QueryDecoratorSelector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">ownDecorators</span><span class="hl-1">();</span><br/><br/><span class="hl-10">// returns member and parameter decorators from decorator selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decorators</span><span class="hl-1">: </span><span class="hl-3">Decorator</span><span class="hl-1">[] = </span><span class="hl-0">decoratorSelector</span><span class="hl-1">.</span><span class="hl-6">all</span><span class="hl-1">()</span><br/><br/><span class="hl-10">// returns class member decorators from decorator selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberDecorators</span><span class="hl-1">: </span><span class="hl-3">Decorator</span><span class="hl-1">[] = </span><span class="hl-0">decoratorSelector</span><span class="hl-1">.</span><span class="hl-6">ofMembers</span><span class="hl-1">()</span><br/><br/><span class="hl-10">// returns class parameter decorators from decorator selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">parameterDecorators</span><span class="hl-1">: </span><span class="hl-3">Decorator</span><span class="hl-1">[] = </span><span class="hl-0">decoratorSelector</span><span class="hl-1">.</span><span class="hl-6">ofParameters</span><span class="hl-1">()</span><br/>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:filter-class-members-and-parameters" class="tsd-anchor"></a><h3><a href="#md:filter-class-members-and-parameters">Filter Class Members and Parameters</a></h3><p>You can filter class members and parameters based on available filtering conditions:</p>
<ul>
<li><code>ByMemberName</code> - to filter class members by name;</li>
<li><code>ByMemberType</code> - to filter class members by type (CONSTRUCTOR, METHOD, PROPERTY, ACCESSOR);</li>
<li><code>ByStaticMember</code> - to filter class members by static/non-static;</li>
<li><code>ByDecoratorClass</code> - to filter class members by annotation decorator class (class member decorator or parameter decorator);</li>
<li><code>ByMemberDecoratorClass</code> - to filter class members by class member annotation decorator class</li>
<li><code>ByParameterDecoratorClass</code> - to filter class members by paramter annotation decorator class</li>
</ul>
<p>Filtering is based on the query mechanism, that is described in <a href="#query-class-members-and-parameters">Query Class Members and Parameters</a>.
To access filtered values, please refer to the Query API.</p>
<blockquote>
<p>:warning: <strong>Important!</strong> If you want to get a class member or parameter by <strong>name</strong>, please beware of the obfuscation/minification level. During such procedures, the names can be changed. It will make a reflection of such class members or parameters not possible because the requested code won&#39;t be found.</p>
</blockquote>
<pre><code class="language-ts"><span class="hl-10">// returns query executor from class info</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">).</span><span class="hl-6">query</span><span class="hl-1">();</span><br/><br/><span class="hl-10">//---FILTER BY NAME-------------------------------------------------------------------------</span><br/><span class="hl-10">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-7">&quot;someClassMemberName&quot;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberNameQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><br/><span class="hl-1">      </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberName</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">));</span><br/><br/><span class="hl-10">//---FILTER BY MEMBER TYPE------------------------------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberType</span><span class="hl-1">: </span><span class="hl-3">DecoratedElementType</span><span class="hl-1"> = </span><span class="hl-0">DecoratedElementType</span><span class="hl-1">.</span><span class="hl-5">METHOD</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberTypeQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberType</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">memberType</span><span class="hl-1">));</span><br/><br/><span class="hl-10">//---FILTER BY STATIC/NONSTATIC MEMBER------------------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isMemberStatic</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberStaticQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-0">ByStaticMember</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">isMemberStatic</span><span class="hl-1">));</span><br/><br/><br/><span class="hl-10">//---FILTER BY ANNOTATION DECORATOR (3 Examples)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decoratorClass</span><span class="hl-1">: </span><span class="hl-3">IClass</span><span class="hl-1">&lt;</span><span class="hl-3">AnnotationDecorator</span><span class="hl-1">&gt; = </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">;</span><br/><br/><span class="hl-10">//---1. FILTER BY ANNOTATION DECORATOR FOR CLASS MEMBERS &amp; PARAMETERS-------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byDecoratorClassQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-0">ByDecoratorClass</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">decoratorClass</span><span class="hl-1">));</span><br/><br/><span class="hl-10">//---2. FILTER BY ANNOTATION DECORATOR FOR PARAMETRS ONLY-------------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byParameterDecoratorClassClassQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-0">ByParameterDecoratorClass</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">decoratorClass</span><span class="hl-1">));</span><br/><br/><span class="hl-10">//---3. FILTER BY ANNOTATION DECORATOR FOR CLASS MEMBERS ONLY---------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberDecoratorClassQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberDecoratorClass</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">decoratorClass</span><span class="hl-1">));</span><br/>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:custom-filters" class="tsd-anchor"></a><h4><a href="#md:custom-filters">Custom Filters</a></h4><p>It is possible to combine/chain different filtering conditions or create your conditions implementing <a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/reflector/query/IQueryCondition.ts">IQueryCondition</a> interface.
The examples can be found in already existing filters:</p>
<ul>
<li><a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/reflector/query/conditions/members/ByMemberType.ts">Filter By Member Type</a>;</li>
<li><a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/reflector/query/conditions/members/ByMemberName.ts">Filter By Member Name</a></li>
</ul>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:decorate-class-members-and-parameters-dynamically" class="tsd-anchor"></a><h3><a href="#md:decorate-class-members-and-parameters-dynamically">Decorate Class Members and Parameters Dynamically</a></h3><p>If you need to add/remove decorators dynamically on runtime, the <strong><code>reflector</code></strong> package with its <a href="#annotation-decorators">Annotation Decorators</a> can provide that.
Based on <a href="#reflected-types-architecture">Reflected Types Architecture</a>, each <a href="#reflected-types">Reflected Type</a> are the child of <code>DecoratedElement&lt;T&gt;</code> class and inherits 2 methods:</p>
<ul>
<li><code> addDecorator(decoratorOrFn: Decorator | DecoratorFn): boolean</code> - for adding decorators on runtime<ul>
<li><code>decoratorOrFn</code> - decorator function</li>
</ul>
</li>
<li><code>removeDecorator(decoratorOrClass: IClass&lt;Decorator&gt; | Decorator): boolean</code> - for deleting decorators on runtime<ul>
<li><code>decoratorOrClass</code> - decorator class</li>
</ul>
</li>
</ul>
<p>Let&#39;s assume we have defined annotation decorator:</p>
<blockquote>
<p>:information_source:  Detailed information on how to create annotation decorators can be found here: <a href="#annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>It is important to note that when decorators are added/removed dynamically, the Reflector has to be refreshed. There are two approaches to do that.</p>
<ol>
<li>Set the <code>autoSync</code> parameter to true when the Reflector is created. It will make the Reflector to update each time when the Reflector API is called, so it will help to keep the Reflector always up-to-date automatically. The default value of <code>autoSync</code> is false: the Reflector does not update automatically.</li>
</ol>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">); </span><span class="hl-10">//autoSync is true, the Reflector will be updated automatically</span>
</code><button>Copy</button></pre>
<ol start="2">
<li>As mentioned before, by default <code>autoSync</code> is set to false, so the Reflector won&#39;t see added/removed decorator. To change that the Reflector has to be explicitly updated via the <code>refresh()</code> method.</li>
</ol>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">); </span><span class="hl-10">//autoSync is false, the Reflector will NOT be updated automatically</span><br/><span class="hl-10">//SAME AS</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">, </span><span class="hl-2">false</span><span class="hl-1">); </span><span class="hl-10">//autoSync is false, the Reflector will NOT be updated automatically</span><br/><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getConstructor</span><span class="hl-1">().</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">()); </span><span class="hl-10">//added decorator &#39;annotation()&#39; is not visible to the Reflector</span><br/><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">refresh</span><span class="hl-1">(); </span><span class="hl-10">//explicit update makes newly added decorator visible to the Reflector</span>
</code><button>Copy</button></pre>
<p><strong>The Complete Reflector API for Dynamic Decoration:</strong></p>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---CONSTRUCTOR---------------------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getConstructor</span><span class="hl-1">().</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">());</span><br/><span class="hl-10">// OR</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getConstructor</span><span class="hl-1">().</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AnnotationDecorator</span><span class="hl-1">()));</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getConstructor</span><span class="hl-1">().</span><span class="hl-6">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---CONSTRUCTOR PARAMETERS-----------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedConstructor</span><span class="hl-1">().</span><span class="hl-6">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getDecoratedConstructor</span><span class="hl-1">().</span><span class="hl-6">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-6">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---FIELD (UNION OF ACCESSOR &amp; PROPERTY)---------------------------------------------------</span><br/><span class="hl-10">// true - for instance class member, false - for static class members</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getField</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getField</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---ACCESSOR-------------------------------------------------------------------------------</span><br/><span class="hl-10">// true - for instance class member, false - for static class members</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getAccessor</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getAccessor</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---PROPERTY-------------------------------------------------------------------------------</span><br/><span class="hl-10">// true - for instance class member, false - for static class members</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getProperty</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getProperty</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---METHOD---------------------------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-10">//---METHOD PARAMETERS-----------------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-6">addDecorator</span><span class="hl-1">(</span><span class="hl-6">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-6">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-6">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-6">refresh</span><span class="hl-1">();</span><br/>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:get-all-decorated-classes" class="tsd-anchor"></a><h3><a href="#md:get-all-decorated-classes">Get All Decorated Classes</a></h3><p><strong><code>reflector</code></strong> stores information about decorated classes (with <a href="#annotation-decorators">Annotation Decorators</a>) in a special centralized storage, called <strong>ClassTable</strong>. It is possible to retrieve decorated classes from ClassTable.</p>
<blockquote>
<p>:warning:  ClassTable contains only classes that have their <strong>OWN</strong> decorators (<strong>NOT</strong> decorators assigned to the class via decorators inheritance &amp; <a href="#decoration-policies">Decoration Policies</a>). However, it is possible to add such class to ClassTable by applying annotation decorator <code>@reflect()</code> on this class.</p>
</blockquote>
<p>To retrieve decorated classes from the ClassTable:</p>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">classTable</span><span class="hl-1">: </span><span class="hl-3">IClassTable</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-6">getClassTable</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p><strong>ClassTable has next API:</strong></p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IClassTable</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-6">getClasses</span><span class="hl-1">(): </span><span class="hl-3">ReadonlySet</span><span class="hl-1">&lt;</span><span class="hl-3">IMetadataClass</span><span class="hl-1">&lt;</span><span class="hl-3">unknown</span><span class="hl-1">&gt;&gt;;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-6">getSyncHash</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-6">subscribe</span><span class="hl-1">(...</span><span class="hl-0">subscribers</span><span class="hl-1">: </span><span class="hl-3">IClassTableSubscriber</span><span class="hl-1">[]): </span><span class="hl-3">this</span><br/><br/><span class="hl-1">    </span><span class="hl-6">unsubscribe</span><span class="hl-1">(...</span><span class="hl-0">subscribers</span><span class="hl-1">: </span><span class="hl-3">IClassTableSubscriber</span><span class="hl-1">[]): </span><span class="hl-3">this</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><code>getClasses</code> - provides a set of all decorated classes.</p>
<p><code>getSyncHash</code> - detects if ClassTable was changed (hash is recalculated on each ClassTable modification).</p>
<p><code>subscribe/unsubscribe</code> - detects ClassTable modification: the subscriber can get detailed information on what exactly was modified.</p>
<p><strong>ClassTable Subscription has next API:</strong></p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IClassTableSubscriber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">onClassTableUpdate</span><span class="hl-1">(</span><span class="hl-0">update</span><span class="hl-1">: </span><span class="hl-3">IClassTableUpdate</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IClassTableUpdate</span><span class="hl-1">&lt;</span><span class="hl-3">TDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> = </span><span class="hl-3">Decorator</span><span class="hl-1">, </span><span class="hl-3">T</span><span class="hl-1"> = </span><span class="hl-3">unknown</span><span class="hl-1">&gt; {</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-3">ClassTableUpdateTypes</span><span class="hl-1">; </span><span class="hl-10">// enum: { METADATA_ADDED, METADATA_REMOVED }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">decorator</span><span class="hl-1">: </span><span class="hl-3">TDecorator</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">targetClass</span><span class="hl-1">: </span><span class="hl-3">IClass</span><span class="hl-1">&lt;</span><span class="hl-3">T</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">decoratedElement</span><span class="hl-1">: {</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-3">DecoratedElementType</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">isStatic</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">parameterIndex</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<p><code>type</code> - type of update: if metadata/decorator was added or removed.</p>
<p><code>decorator</code> - decorator object itself.</p>
<p><code>targetClass</code> - class with modified decorators.</p>
<p><code>decoratedElement</code> - info about the decorated element:</p>
<ul>
<li><p><code>type</code> - class member type (Constructor, Method, Parameters.... etc.).</p>
</li>
<li><p><code>name</code> - class member name.</p>
</li>
<li><p><code>isStatic</code> - if a class member is static or not.</p>
</li>
<li><p><code>parameterIndex</code> - in case of parameter - parameter index</p>
</li>
</ul>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:annotation-decorators" class="tsd-anchor"></a><h2><a href="#md:annotation-decorators">Annotation Decorators</a></h2><p><a href="#annotation-decorators">Annotation Decorators</a> is the decoration mechanism for the code annotations in TypeScript, that is provided by the <strong><code>reflector</code></strong> package. It gives the possibility to label different class members and parameters. The <strong><code>reflector</code></strong> package uses them to query class structure. Below you can find information on how to create and use annotation decorators to make them available for the Reflector.</p>
<p>If you want to get additional information on how the Reflector retrieves information about annotation decorators, please refer to <strong>Architectural Notes: <a href="#behind-the-scene-of-annotation-decorators">Behind the Scene of Annotation Decorators</a></strong>.</p>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:create-annotation-decorators" class="tsd-anchor"></a><h3><a href="#md:create-annotation-decorators">Create Annotation Decorators</a></h3><p>You can define a annotation decorator in the next 4 steps.</p>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:step-1-define-decorator-function" class="tsd-anchor"></a><h4><a href="#md:step-1-define-decorator-function">STEP 1: Define Decorator Function</a></h4><p>As with <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">Type Script decorators</a>, you need to define the decorator function. But the decorator function has to contain a call: <code>Decorator.build()</code>, that expects a annotation decorator class of <a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/decorators/Decorator.ts">Decorator</a> type as parameter (step 2).</p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:step-2-define-decorator-class" class="tsd-anchor"></a><h4><a href="#md:step-2-define-decorator-class">STEP 2: Define Decorator Class</a></h4><p>The next step is to define a new <code>AnnotationDecorator</code> class by extending abstract <a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/decorators/Decorator.ts">Decorator</a> class from <strong><code>reflector</code></strong> package. The main purpose of <code>AnnotationDecorator</code> class is to define/overwrite decoration policies (step 3) and define accepted by decorator function arguments (step 4).</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:optional-step-3-define-decoration-policies" class="tsd-anchor"></a><h4><a href="#md:optional-step-3-define-decoration-policies">[OPTIONAL] STEP 3: Define Decoration Policies</a></h4><p>Decoration policies are required to define the rules for decorators&#39; behavior in specific cases, mostly connected to class inheritance.
Currently, there are 5 policies:</p>
<ul>
<li><strong><a href="#access-policy">Access Policy</a></strong> defines if the decorator can be applied to a specific member, argument, or member group:<ul>
<li>Default <code>ALL</code> - the decorator can be applied for all <a href="#reflected-types">Reflected Types</a>.</li>
</ul>
</li>
<li><strong><a href="#same-target-multi-usage-policy">Same-Target-Multi-Usage Policy</a></strong> defines the behavior of the decorator, if the class member or the argument has more than one decorator of the same type for the same class member or argument:<ul>
<li>Default <code>NOT_ALLOWED</code> - only the first decorator will be used.</li>
</ul>
</li>
<li><strong><a href="#collision-policy">Collision Policy</a></strong> defines the behavior of the decorator if it <strong>EXISTS IN BOTH</strong> the child class and its direct parent class for the same class member or argument:<ul>
<li>Default <code>OVERRIDE_PARENT</code> - the decorator of the child class will be used.</li>
</ul>
</li>
<li><strong><a href="#not-existence-policy">Not-Existence Policy</a></strong> defines the behavior of the decorator, if it does <strong>NOT EXIST</strong> in child class, but <strong>EXISTS</strong> in its direct parent class for the same class member or argument:<ul>
<li>Default <code>APPLY</code> - the decorator of the direct parent class will be used.</li>
</ul>
</li>
<li><strong><a href="#appearance-policy">Appearance Policy</a></strong> defines the behavior of the decorator, if it <strong>EXISTS</strong> in the child class but does <strong>NOT EXIST</strong> in the direct parent class for the same class member or argument:<ul>
<li>Default <code>APPLY</code> - the decorator of the child class will be used.</li>
</ul>
</li>
</ul>
<blockquote>
<p>:information_source:  Detailed information on decoration policies and their parameters can be found here: <a href="#decoration-policies">Decoration Policies</a></p>
</blockquote>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">IFunction</span><span class="hl-1">, </span><span class="hl-0">IType</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/core&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">, </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-10">// allowed only for </span><br/><span class="hl-1">    </span><span class="hl-10">// instance properties,</span><br/><span class="hl-1">    </span><span class="hl-10">// instance accessors,</span><br/><span class="hl-1">    </span><span class="hl-10">// parameters in constructors</span><br/><span class="hl-1">    </span><span class="hl-10">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_PROPERTY</span><br/><span class="hl-1">            | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_ACCESSOR</span><br/><span class="hl-1">            | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PARAMETER_IN_CONSTRUCTOR</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-10">// if decorator exists on the same class member or parameter in child class and superclass,</span><br/><span class="hl-1">    </span><span class="hl-10">// child class decorator will be used</span><br/><span class="hl-1">    </span><span class="hl-10">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataCollisionPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">MetadataCollisionPolicy</span><span class="hl-1">.</span><span class="hl-5">OVERRIDE_PARENT</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><br/><span class="hl-1">    </span><span class="hl-10">// if decorator exists on the class member or parameter in superclass, but does not exist in child class,  </span><br/><span class="hl-1">    </span><span class="hl-10">// superclass decorator will be used for child class member</span><br/><span class="hl-1">    </span><span class="hl-10">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">.</span><span class="hl-5">APPLY</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-10">// multiple decorators on the same class member or parameter is not allowed</span><br/><span class="hl-1">    </span><span class="hl-10">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<p><strong>Policy Provider</strong></p>
<p>The approach above is very general: we use the same policies for selected class members and parameters. It is also possible to have different sets of policies for different reflection types. To do this, we need to define them via Policy Provider.</p>
<p>For example, let&#39;s create a decorator, that is allowed for methods (MetadataAccessPolicy.METHOD) and properties (MetadataAccessPolicy.PROPERTY). All policies are the same, except SameTargetMultiUsagePolicy. SameTargetMultiUsagePolicy allows using multiple decorators for an instance method and properties but does not allow this for static methods and properties. Other reflection types are not configured in MetadataAccessPolicy, so any policies for them will be ignored.</p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">annotation</span><span class="hl-1">(</span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, ...</span><span class="hl-0">params</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">[]): </span><span class="hl-3">IFunction</span><span class="hl-1">&lt;</span><span class="hl-3">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-2">static</span><span class="hl-1"> </span><span class="hl-0">policyProvider</span><span class="hl-1">: </span><span class="hl-3">IPolicyProvider</span><span class="hl-1"> =</span><br/><span class="hl-1">          </span><span class="hl-10">// decorator is allowed for methods and properties only	</span><br/><span class="hl-1">          </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">PolicyProvider</span><span class="hl-1">(</span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">METHOD</span><span class="hl-1"> | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">)</span><br/><span class="hl-1">                  .</span><span class="hl-6">setAppearancePolicy</span><span class="hl-1">(</span><span class="hl-0">MetadataAppearancePolicy</span><span class="hl-1">.</span><span class="hl-5">DEFAULT</span><span class="hl-1">)</span><br/><span class="hl-1">                  .</span><span class="hl-6">setCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">MetadataCollisionPolicy</span><span class="hl-1">.</span><span class="hl-5">DEFAULT</span><span class="hl-1">)</span><br/><span class="hl-1">                  .</span><span class="hl-6">setNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">.</span><span class="hl-5">DEFAULT</span><span class="hl-1">)</span><br/><span class="hl-1">                  </span><span class="hl-10">// it is allowed to have multiple decorators for instance methods and properties</span><br/><span class="hl-1">                  .</span><span class="hl-6">setSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_METHOD</span><span class="hl-1"> | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_PROPERTY</span><span class="hl-1">)</span><br/><span class="hl-1">                  </span><span class="hl-10">// it is NOT allowed to have multiple decorators for static methods and properties</span><br/><span class="hl-1">                  .</span><span class="hl-6">setSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">STATIC_METHOD</span><span class="hl-1"> | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">STATIC_PROPERTY</span><span class="hl-1">)</span><br/><span class="hl-1">                  </span><span class="hl-10">// it is IGNORED, cause MetadataAccessPolicy is not congigured for the CONSTRUCTOR</span><br/><span class="hl-1">                  .</span><span class="hl-6">setSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1">)</span><br/><br/><span class="hl-1">  ;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-6">getAccessPolicy</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getAppearancePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataAppearancePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-6">getAppearancePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-6">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataCollisionPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-6">getCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-6">getSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:optional-step-4-define-decorator-paramters" class="tsd-anchor"></a><h4><a href="#md:optional-step-4-define-decorator-paramters">[OPTIONAL] STEP 4: Define Decorator Paramters</a></h4><p>If necessary, it&#39;s possible to set different custom parameters for the annotation decorator.</p>
<pre><code class="language-ts"><span class="hl-4">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-7">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-6">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">AnnotationDecorator</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">, </span><span class="hl-7">&quot;someString&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">myParam1</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">myParam2</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">myParam1</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">myParam2</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">){</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam1</span><span class="hl-1"> = </span><span class="hl-0">myParam1</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam2</span><span class="hl-1"> = </span><span class="hl-0">myParam2</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getParam1</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam1</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getParam2</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam2</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-10">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">getParameters</span><span class="hl-1">(): </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">unknown</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> [</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam1</span><span class="hl-1">, </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam2</span><span class="hl-1">];</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:use-annotation-decorators" class="tsd-anchor"></a><h3><a href="#md:use-annotation-decorators">Use Annotation Decorators</a></h3><p>The annotation decorators are applied in the same manner as typical <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">TypeScript decorators</a>: @decorator. However, the use of the <a href="#decoration-policies">Decoration Policies</a> can make significant difference.</p>
<p>For example, for <code>@annotation</code> the Access policy is set to <code>MetadataAccessPolicy.PROPERTY</code>. The decorator is allowed on class properties only, for all other use cases it will be ignored.</p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">MyClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">MySuperClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-10">// ALLOWED</span><br/><span class="hl-1">    @</span><span class="hl-6">annotation</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">data</span><span class="hl-1">: </span><span class="hl-3">MyData</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">     </span><span class="hl-10">// NOT ALLOWED BY ACCESS POLICY -&gt; IGNORED</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(@</span><span class="hl-6">annotation</span><span class="hl-1">() </span><span class="hl-0">myOtherData</span><span class="hl-1">: </span><span class="hl-3">MyOtherData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-10">// NOT ALLOWED BY ACCESS POLICY -&gt; IGNORED</span><br/><span class="hl-1">    @</span><span class="hl-6">annotation</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-6">myMethod</span><span class="hl-1">(</span><span class="hl-0">myOtherData</span><span class="hl-1">:</span><span class="hl-3">MyOtherData</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<blockquote>
<p>:warning:  <strong>Constructor Parameters</strong>: If you define the constructor in the child class (override parent constructor), then you have to apply decorators for constructor parameters again. Overriding of the parent constructor is handled similarly to a definition of a new method, so no policies, that are defined in the parent constructor, can be applied. Detailed explanation of this case can be found here: <a href="#annotation-decorators-usage-for-constructor-parameters">Annotation Decorators Usage for Constructor Parameters</a>;</p>
</blockquote>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:decoration-policies" class="tsd-anchor"></a><h3><a href="#md:decoration-policies">Decoration Policies</a></h3><p>Decoration policies are required to define the rules for decorators&#39; behavior in specific cases. Currently, there are 2 general policies and 3 class ihneritance policies: </p>
<p><strong>General Policies:</strong></p>
<ul>
<li><a href="#access-policy">Access Policy</a> </li>
<li><a href="#same-target-multi-usage-policy">Same-Target-Multi-Usage Policy</a></li>
</ul>
<p><strong>Class Inheritance Policies:</strong></p>
<ul>
<li><a href="#collision-policy">Collision Policy</a> </li>
<li><a href="#not-existence-policy">Not-Existence Policy</a></li>
<li><a href="#appearance-policy">Appearance Policy</a></li>
</ul>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:access-policy" class="tsd-anchor"></a><h4><a href="#md:access-policy">Access Policy</a></h4><p><code>MetadataAccessPolicy</code> -defines, if the decorator can be applied to a specific member, argument, or member group. </p>
<p>Default: <code>MetadataAccessPolicy.ALL</code></p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">NONE</span><span class="hl-1"> = </span><span class="hl-11">0</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1"> = </span><span class="hl-11">1</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">INST_PROPERTY</span><span class="hl-1"> = </span><span class="hl-11">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">STATIC_PROPERTY</span><span class="hl-1"> = </span><span class="hl-11">4</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PROPERTY</span><span class="hl-1"> = </span><span class="hl-5">INST_PROPERTY</span><span class="hl-1"> | </span><span class="hl-5">STATIC_PROPERTY</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">INST_ACCESSOR</span><span class="hl-1"> = </span><span class="hl-11">8</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">STATIC_ACCESSOR</span><span class="hl-1"> = </span><span class="hl-11">16</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">ACCESSOR</span><span class="hl-1"> = </span><span class="hl-5">INST_ACCESSOR</span><span class="hl-1"> | </span><span class="hl-5">STATIC_ACCESSOR</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">INST_METHOD</span><span class="hl-1"> = </span><span class="hl-11">32</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">STATIC_METHOD</span><span class="hl-1"> = </span><span class="hl-11">64</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">METHOD</span><span class="hl-1"> = </span><span class="hl-5">INST_METHOD</span><span class="hl-1"> | </span><span class="hl-5">STATIC_METHOD</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_CONSTRUCTOR</span><span class="hl-1"> = </span><span class="hl-11">128</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_INST_METHOD</span><span class="hl-1"> = </span><span class="hl-11">256</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_STATIC_METHOD</span><span class="hl-1"> = </span><span class="hl-11">512</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_METHOD</span><span class="hl-1"> = </span><span class="hl-5">PARAMETER_IN_INST_METHOD</span><span class="hl-1"> | </span><span class="hl-5">PARAMETER_IN_STATIC_METHOD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER</span><span class="hl-1"> = </span><span class="hl-5">PARAMETER_IN_CONSTRUCTOR</span><span class="hl-1"> | </span><span class="hl-5">PARAMETER_IN_METHOD</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">ALL</span><span class="hl-1"> = </span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1"> | </span><span class="hl-5">PROPERTY</span><span class="hl-1"> | </span><span class="hl-5">ACCESSOR</span><span class="hl-1"> | </span><span class="hl-5">METHOD</span><span class="hl-1"> | </span><span class="hl-5">PARAMETER</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:same-target-multi-usage-policy" class="tsd-anchor"></a><h4><a href="#md:same-target-multi-usage-policy">Same-Target-Multi-Usage Policy</a></h4><p><code>MetadataSameTargetMultiUsagePolicy</code> - defines the behavior for the decorator if the class member or the argument has more than one decorator of the same type for the <strong>same class member or argument</strong>:</p>
<ul>
<li><code>ALLOWED</code> - all decorators are registered;</li>
<li><code>NOT_ALLOWED</code> - only the first decorator is registered.</li>
</ul>
<p>Default: <code>MetadataSameTargetMultiUsagePolicy.NOT_ALLOWED</code></p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:collision-policy" class="tsd-anchor"></a><h4><a href="#md:collision-policy">Collision Policy</a></h4><p><code>MetadataCollisionPolicy </code> - defines the behavior for the decorator if it <strong>EXISTS IN BOTH</strong> the child class and its direct parent class for the same class member or argument:</p>
<ul>
<li><code>SKIP</code> - both decorators (from the child class and the direct parent class) are <strong>not used</strong> for the child class;</li>
<li><code>OVERRIDE_CHILD</code> - decorator from the direct parent class is used for the child class;</li>
<li><code>OVERRIDE_PARENT</code>- decorator from the child class is used for the child class;</li>
<li><code>JOIN</code> - both decorators (from the child class and the direct parent class) are <strong>used</strong> for the child class;</li>
<li><code>THROW_ERROR</code> - if the collision happens, the error will be thrown.</li>
</ul>
<p>Default: <code>MetadataCollisionPolicy.OVERRIDE_PARENT</code></p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataCollisionPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">SKIP</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">OVERRIDE_CHILD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">OVERRIDE_PARENT</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">JOIN</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">THROW_ERROR</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">OVERRIDE_PARENT</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:not-existence-policy" class="tsd-anchor"></a><h4><a href="#md:not-existence-policy">Not-Existence Policy</a></h4><p><code>MetadataNotExistencePolicy</code> - defines the behavior of the decorator, if it does <strong>NOT EXIST</strong> in child class, but <strong>EXISTS</strong> in its direct parent class for the same class member or argument:</p>
<ul>
<li><code>SKIP</code> - decorator from the direct parent class is <strong>not used</strong> for the child class;</li>
<li><code>APPLY</code> - decorator from the direct parent class is <strong>used</strong> for the child class.</li>
</ul>
<p>Default: <code>MetadataNotExistencePolicy.APPLY</code></p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">SKIP</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:appearance-policy" class="tsd-anchor"></a><h4><a href="#md:appearance-policy">Appearance Policy</a></h4><p><code>MetadataAppearancePolicy</code> - defines the behavior of the decorator, if it <strong>EXISTS</strong> in the child class but does <strong>NOT EXIST</strong> in the direct parent class for the same class member or argument.</p>
<ul>
<li><code>SKIP</code> - decorator from the child class is <strong>not used</strong> if the other decorator is found in any non-direct parent(superclass which is higher in the hierarchy, but not the direct parent. Situations with the direct parent are covered in <a href="#collision-policy">Collision Policy</a>);</li>
<li><code>APPLY</code> - decorator from the child class is used, ignoring any other superclass decorators.</li>
</ul>
<p>Default: <code>MetadataAppearancePolicy.APPLY</code></p>
<pre><code class="language-ts"><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataAppearancePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">SKIP</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:architectural-notes" class="tsd-anchor"></a><h2><a href="#md:architectural-notes">Architectural Notes</a></h2><a id="md:reflected-types-architecture" class="tsd-anchor"></a><h3><a href="#md:reflected-types-architecture">Reflected Types Architecture</a></h3><p>The diagram shows supported reflected types of class members &amp; parameters with supported API for these types.</p>
<p><img src="https://raw.githubusercontent.com/semaver/core-stack/main/packages/reflector/diagrams/reflector-class-members.svg" alt=""></p>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:behind-the-scene-of-annotation-decorators" class="tsd-anchor"></a><h3><a href="#md:behind-the-scene-of-annotation-decorators">Behind the Scene of Annotation Decorators</a></h3><p>Usage of <a href="#annotation-decorators">Annotation Decorators</a> are necessary if you want the Reflector to return information on decorated class members.</p>
<p><strong>So how is this information provided?</strong></p>
<p>Every reflected class gets two properties: <code>__metadata__</code> &amp; <code>__cached_metadata__</code>: </p>
<ul>
<li><strong>metadata property</strong> contains the class own information on decorated class members;</li>
<li><strong>cached_metadata property</strong> contains class own info(<strong>metadata property</strong>) merged with its superclass <strong>cached_metadata property</strong> based on the <a href="#decoration-policies">Decoration Policies</a>.</li>
</ul>
<p>To support the inheritance of decorated class members acc. to the <a href="#decoration-policies">Decoration Policies</a>, the calculation and recalculation (in case of any changes) for the <strong>cached_metadata</strong> property is required. The calculation starts from the top superclass and then goes step by step through the chain of all child classes. <strong>cached_metadata</strong> is optimized with cache to avoid unnecessary recalculations.</p>
<p>To retrieve the latest state of class metadata information, the Reflector works directly with the <strong>cached_metadata</strong> property.</p>
<pre><code class="language-ts"><span class="hl-10">// __metadata__ = decorators of SuperClass only</span><br/><span class="hl-10">// __cached_metadata__ = __metadata__(SuperClass)</span><br/><span class="hl-1">@</span><span class="hl-6">annotation</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// __metadata__ = decorators of ChildClass only</span><br/><span class="hl-10">// __cached_metadata = </span><br/><span class="hl-10">//          __metadata__(ChildClass) merged with __cached_metadata__(SuperClass) based on policies</span><br/><span class="hl-1">@</span><span class="hl-6">annotation</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// __metadata__ = decorators of ChildOfChildClass only</span><br/><span class="hl-10">// __cached_metadata = </span><br/><span class="hl-10">//          __metadata__(ChildOfChildClass) merged with __cached_metadata__(ChildClass) based on policies</span><br/><span class="hl-1">@</span><span class="hl-6">annotation</span><span class="hl-1">()</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ChildOfChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ChildClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
<a id="md:annotation-decorators-usage-for-constructor-parameters" class="tsd-anchor"></a><h3><a href="#md:annotation-decorators-usage-for-constructor-parameters">Annotation Decorators Usage for Constructor Parameters</a></h3><p>If you define the constructor in the child class (override parent constructor), then you have to apply decorators for constructor parameters again. Overriding of the parent constructor is handled similarly to a definition of a new method, so no policies, that are defined in the parent constructor, can be applied.</p>
<p>Let&#39;s check some examples, to understand why this is important, even when the child constructor has a similar signature. </p>
<p>First, we define a superclass with parameters in the constructor:</p>
<pre><code class="language-ts"><span class="hl-10">// superclass definition</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Second, we define child classes, that are extending superclass:</p>
<pre><code class="language-ts"><span class="hl-10">// child class with same parameter order</span><br/><span class="hl-10">// constructor known parameters length = 2</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithSameParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// child class with custom parameter order</span><br/><span class="hl-10">// constructor known parameters length = 2</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithCustomParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">, </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// child class with args</span><br/><span class="hl-10">// constructor known parameters length = 0</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ArgsChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">:</span><span class="hl-3">any</span><span class="hl-1">[]) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">0</span><span class="hl-1">], </span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">1</span><span class="hl-1">])</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// child class with default constructor</span><br/><span class="hl-10">// constructor known parameters length = 0</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">EmptyCosntructorChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<p>Now let&#39;s add some annotation decorator(e.g. <code>@inject</code>) to constructor parameters with <code>MetadataNotExistencePolicy.APPLY</code> policy. This policy means that if the decorator does not exist in the child class, but exists in the direct parent class on the same parameter in the constructor, the Reflector uses the decorator from the direct parent class in the child class.</p>
<p>So let&#39;s decorate the superclass:</p>
<pre><code class="language-ts"><span class="hl-10">// superclass definition</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">          @</span><span class="hl-6">inject</span><span class="hl-1">(</span><span class="hl-0">FirstData</span><span class="hl-1">) </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">,</span><br/><span class="hl-1">          @</span><span class="hl-6">inject</span><span class="hl-1">(</span><span class="hl-0">SecondData</span><span class="hl-1">) </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>The major problem with propogation of the decorator to the child constructor parameters is that we know only parameter positions but we don&#39;t know parameter types, because they are erased in JavaScript. So there is no way to handle the case in <code>WithCustomParameterOrderChildClass</code>. Even more, the constructor can be defined with extra parameters or with a single one, can contain optional parameters, etc. </p>
<p>That&#39;s why the main and important rule for constructors: </p>
<blockquote>
<p>:warning: If constructor parameter length  &gt; 0 (aka <code>knowParameterLength</code>) we need to redefine decorators even if the order of parameters is the same in the superclass.</p>
</blockquote>
<pre><code class="language-ts"><span class="hl-10">// child class with same parameter order</span><br/><span class="hl-10">// constructor known parameters length = 2</span><br/><span class="hl-10">// REDEFINE DECORATORS</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithSameParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">          @</span><span class="hl-6">inject</span><span class="hl-1">(</span><span class="hl-0">FirstData</span><span class="hl-1">) </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">,</span><br/><span class="hl-1">          @</span><span class="hl-6">inject</span><span class="hl-1">(</span><span class="hl-0">SecondData</span><span class="hl-1">) </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// child class with custom parameter order</span><br/><span class="hl-10">// constructor known parameters length = 2</span><br/><span class="hl-10">// REDEFINE DECORATORS</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithCustomParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">          @</span><span class="hl-6">inject</span><span class="hl-1">(</span><span class="hl-0">SecondData</span><span class="hl-1">) </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">,</span><br/><span class="hl-1">          @</span><span class="hl-6">inject</span><span class="hl-1">(</span><span class="hl-0">FirstData</span><span class="hl-1">) </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// child class with args</span><br/><span class="hl-10">// constructor known parameters length = 0</span><br/><span class="hl-10">// NOT REDEFINE DECORATORS</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ArgsChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">[]) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">0</span><span class="hl-1">], </span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">1</span><span class="hl-1">])</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// child class with default constructor</span><br/><span class="hl-10">// constructor known parameters length = 0</span><br/><span class="hl-10">// NOT REDEFINE DECORATORS</span><br/><span class="hl-4">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">EmptyCosntructorChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span><br/>
</code><button>Copy</button></pre>
<p><a href="#reflector-documentation">back</a></p>
</section>
<section class="tsd-panel-group tsd-index-group">
<section class="tsd-panel tsd-index-panel">
<h3 class="tsd-index-heading uppercase">Index</h3>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Enumerations</h3>
<div class="tsd-index-list"><a href="../enums/_semaver_reflector.AccessType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Access<wbr/>Type</span></a>
<a href="../enums/_semaver_reflector.ClassTableNames.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Class<wbr/>Table<wbr/>Names</span></a>
<a href="../enums/_semaver_reflector.ClassTableUpdateTypes.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Class<wbr/>Table<wbr/>Update<wbr/>Types</span></a>
<a href="../enums/_semaver_reflector.DecoratedElementType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Decorated<wbr/>Element<wbr/>Type</span></a>
<a href="../enums/_semaver_reflector.MetadataAccessPolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Metadata<wbr/>Access<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataAppearancePolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Metadata<wbr/>Appearance<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataClassNames.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Metadata<wbr/>Class<wbr/>Names</span></a>
<a href="../enums/_semaver_reflector.MetadataCollisionPolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Metadata<wbr/>Collision<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataNotExistencePolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Metadata<wbr/>Not<wbr/>Existence<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataSameTargetMultiUsagePolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Metadata<wbr/>Same<wbr/>Target<wbr/>Multi<wbr/>Usage<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.PrimitiveMetadataAccessPolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-8"></use></svg><span>Primitive<wbr/>Metadata<wbr/>Access<wbr/>Policy</span></a>
</div></section>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Classes</h3>
<div class="tsd-index-list"><a href="../classes/_semaver_reflector.Accessor.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Accessor</span></a>
<a href="../classes/_semaver_reflector.ByDecoratorClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>By<wbr/>Decorator<wbr/>Class</span></a>
<a href="../classes/_semaver_reflector.ByMemberDecoratorClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>By<wbr/>Member<wbr/>Decorator<wbr/>Class</span></a>
<a href="../classes/_semaver_reflector.ByMemberName.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>By<wbr/>Member<wbr/>Name</span></a>
<a href="../classes/_semaver_reflector.ByMemberType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>By<wbr/>Member<wbr/>Type</span></a>
<a href="../classes/_semaver_reflector.ByParameterDecoratorClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>By<wbr/>Parameter<wbr/>Decorator<wbr/>Class</span></a>
<a href="../classes/_semaver_reflector.ByStaticMember.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>By<wbr/>Static<wbr/>Member</span></a>
<a href="../classes/_semaver_reflector.ClassMember.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Member</span></a>
<a href="../classes/_semaver_reflector.ClassMemberAccessError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Access<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberNotExistenceError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Not<wbr/>Existence<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberNotFoundError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Not<wbr/>Found<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberTargetObjectTypeError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Target<wbr/>Object<wbr/>Type<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberTargetUndefinedError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Target<wbr/>Undefined<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassTable.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Table</span></a>
<a href="../classes/_semaver_reflector.ClassTableProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Class<wbr/>Table<wbr/>Provider</span></a>
<a href="../classes/_semaver_reflector.CollisionPolicyError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Collision<wbr/>Policy<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.Constructor.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Constructor</span></a>
<a href="../classes/_semaver_reflector.ConstructorParameter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Constructor<wbr/>Parameter</span></a>
<a href="../classes/_semaver_reflector.DecoratedElement.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Decorated<wbr/>Element</span></a>
<a href="../classes/_semaver_reflector.Decorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Decorator</span></a>
<a href="../classes/_semaver_reflector.DecoratorUndefinedError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Decorator<wbr/>Undefined<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ExecutableMember.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Executable<wbr/>Member</span></a>
<a href="../classes/_semaver_reflector.Field.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Field</span></a>
<a href="../classes/_semaver_reflector.MetaclassDecorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Metaclass<wbr/>Decorator</span></a>
<a href="../classes/_semaver_reflector.MetadataFactory.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Metadata<wbr/>Factory</span></a>
<a href="../classes/_semaver_reflector.MetadataObject.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Metadata<wbr/>Object</span></a>
<a href="../classes/_semaver_reflector.MetadataTableProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Metadata<wbr/>Table<wbr/>Provider</span></a>
<a href="../classes/_semaver_reflector.Method.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Method</span></a>
<a href="../classes/_semaver_reflector.MethodNotFoundError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Method<wbr/>Not<wbr/>Found<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.MethodParameter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Method<wbr/>Parameter</span></a>
<a href="../classes/_semaver_reflector.ObjectPrimitiveError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Object<wbr/>Primitive<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ObjectUndefinedError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Object<wbr/>Undefined<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.Parameter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Parameter</span></a>
<a href="../classes/_semaver_reflector.PolicyProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Policy<wbr/>Provider</span></a>
<a href="../classes/_semaver_reflector.Property.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Property</span></a>
<a href="../classes/_semaver_reflector.QueryDecoratorSelector.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Query<wbr/>Decorator<wbr/>Selector</span></a>
<a href="../classes/_semaver_reflector.QueryExecutor.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Query<wbr/>Executor</span></a>
<a href="../classes/_semaver_reflector.QueryInfo.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Query<wbr/>Info</span></a>
<a href="../classes/_semaver_reflector.QueryMembersSelector.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Query<wbr/>Members<wbr/>Selector</span></a>
<a href="../classes/_semaver_reflector.ReflectDecorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Reflect<wbr/>Decorator</span></a>
<a href="../classes/_semaver_reflector.Reflector.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg><span>Reflector</span></a>
</div></section>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Interfaces</h3>
<div class="tsd-index-list"><a href="../interfaces/_semaver_reflector.DecoratorFn.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>Decorator<wbr/>Fn</span></a>
<a href="../interfaces/_semaver_reflector.IClassTable.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IClass<wbr/>Table</span></a>
<a href="../interfaces/_semaver_reflector.IClassTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IClass<wbr/>Table<wbr/>Ref</span></a>
<a href="../interfaces/_semaver_reflector.IClassTableSubscriber.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IClass<wbr/>Table<wbr/>Subscriber</span></a>
<a href="../interfaces/_semaver_reflector.IClassTableUpdate.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IClass<wbr/>Table<wbr/>Update</span></a>
<a href="../interfaces/_semaver_reflector.IDecoratedElement.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IDecorated<wbr/>Element</span></a>
<a href="../interfaces/_semaver_reflector.IMemberMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IMember<wbr/>Metadata</span></a>
<a href="../interfaces/_semaver_reflector.IMemberMetadataTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IMember<wbr/>Metadata<wbr/>Table<wbr/>Ref</span></a>
<a href="../interfaces/_semaver_reflector.IMetadataClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IMetadata<wbr/>Class</span></a>
<a href="../interfaces/_semaver_reflector.IMetadataTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IMetadata<wbr/>Table<wbr/>Ref</span></a>
<a href="../interfaces/_semaver_reflector.IMetatableDecorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IMetatable<wbr/>Decorator</span></a>
<a href="../interfaces/_semaver_reflector.IPolicyProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IPolicy<wbr/>Provider</span></a>
<a href="../interfaces/_semaver_reflector.IQueryCondition.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IQuery<wbr/>Condition</span></a>
<a href="../interfaces/_semaver_reflector.IStructureMetadataTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg><span>IStructure<wbr/>Metadata<wbr/>Table<wbr/>Ref</span></a>
</div></section>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Functions</h3>
<div class="tsd-index-list"><a href="../functions/_semaver_reflector.metaclass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg><span>metaclass</span></a>
<a href="../functions/_semaver_reflector.reflect.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg><span>reflect</span></a>
</div></section></section></section></div>
<div class="col-sidebar">
<div class="page-menu">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li>
<ul>
<li><a href="#md:semaverreflector"><span>@semaver/reflector</span></a></li>
<li>
<ul>
<li><a href="#md:about"><span>About</span></a></li>
<li><a href="#md:features"><span>Features</span></a></li>
<li><a href="#md:requirements"><span>Requirements</span></a></li>
<li><a href="#md:installation"><span>Installation</span></a></li></ul></li>
<li><a href="#md:get-started"><span>Get <wbr/>Started</span></a></li>
<li>
<ul>
<li><a href="#md:examples-setup-preparation"><span>Examples <wbr/>Setup <wbr/>Preparation</span></a></li>
<li><a href="#md:example-1-how-to-get-class-members-with-reflector-api"><span>Example 1: <wbr/>How to get class members with <wbr/>Reflector API</span></a></li>
<li>
<ul>
<li><a href="#md:example-11-get-property-by-name"><span>Example 1.1 <wbr/>Get <wbr/>Property <wbr/>By <wbr/>Name</span></a></li>
<li><a href="#md:example-12-get-annotated-properties"><span>Example 1.2: <wbr/>Get <wbr/>Annotated <wbr/>Properties</span></a></li>
<li><a href="#md:example-13-get-property-by-query"><span>Example 1.3: <wbr/>Get <wbr/>Property <wbr/>By <wbr/>Query</span></a></li></ul></li>
<li><a href="#md:example-2-how-to-work-with-annotation-decorator-policies"><span>Example 2: <wbr/>How to work with annotation decorator policies</span></a></li>
<li><a href="#md:example-3-how-to-work-with-annotation-decorator-inheritance"><span>Example 3: <wbr/>How to work with annotation decorator inheritance</span></a></li>
<li><a href="#md:example-4-how-to-get-all-annotated-properties-in-all-classes"><span>Example 4: <wbr/>How to get all annotated properties in all classes</span></a></li>
<li><a href="#md:example-5-how-to-annotate-class-dynamically"><span>Example 5: <wbr/>How to annotate class dynamically</span></a></li></ul></li>
<li><a href="#md:reflector-documentation"><span>Reflector <wbr/>Documentation</span></a></li>
<li>
<ul>
<li><a href="#md:reflector-api"><span>Reflector API</span></a></li>
<li>
<ul>
<li><a href="#md:reflected-types"><span>Reflected <wbr/>Types</span></a></li>
<li><a href="#md:get-class-members-and-paramters"><span>Get <wbr/>Class <wbr/>Members and <wbr/>Paramters</span></a></li>
<li><a href="#md:query-class-members-and-parameters"><span>Query <wbr/>Class <wbr/>Members and <wbr/>Parameters</span></a></li>
<li><a href="#md:filter-class-members-and-parameters"><span>Filter <wbr/>Class <wbr/>Members and <wbr/>Parameters</span></a></li>
<li>
<ul>
<li><a href="#md:custom-filters"><span>Custom <wbr/>Filters</span></a></li></ul></li>
<li><a href="#md:decorate-class-members-and-parameters-dynamically"><span>Decorate <wbr/>Class <wbr/>Members and <wbr/>Parameters <wbr/>Dynamically</span></a></li>
<li><a href="#md:get-all-decorated-classes"><span>Get <wbr/>All <wbr/>Decorated <wbr/>Classes</span></a></li></ul></li>
<li><a href="#md:annotation-decorators"><span>Annotation <wbr/>Decorators</span></a></li>
<li>
<ul>
<li><a href="#md:create-annotation-decorators"><span>Create <wbr/>Annotation <wbr/>Decorators</span></a></li>
<li>
<ul>
<li><a href="#md:step-1-define-decorator-function"><span>STEP 1: <wbr/>Define <wbr/>Decorator <wbr/>Function</span></a></li>
<li><a href="#md:step-2-define-decorator-class"><span>STEP 2: <wbr/>Define <wbr/>Decorator <wbr/>Class</span></a></li>
<li><a href="#md:optional-step-3-define-decoration-policies"><span>[OPTIONAL] STEP 3: <wbr/>Define <wbr/>Decoration <wbr/>Policies</span></a></li>
<li><a href="#md:optional-step-4-define-decorator-paramters"><span>[OPTIONAL] STEP 4: <wbr/>Define <wbr/>Decorator <wbr/>Paramters</span></a></li></ul></li>
<li><a href="#md:use-annotation-decorators"><span>Use <wbr/>Annotation <wbr/>Decorators</span></a></li>
<li><a href="#md:decoration-policies"><span>Decoration <wbr/>Policies</span></a></li>
<li>
<ul>
<li><a href="#md:access-policy"><span>Access <wbr/>Policy</span></a></li>
<li><a href="#md:same-target-multi-usage-policy"><span>Same-<wbr/>Target-<wbr/>Multi-<wbr/>Usage <wbr/>Policy</span></a></li>
<li><a href="#md:collision-policy"><span>Collision <wbr/>Policy</span></a></li>
<li><a href="#md:not-existence-policy"><span>Not-<wbr/>Existence <wbr/>Policy</span></a></li>
<li><a href="#md:appearance-policy"><span>Appearance <wbr/>Policy</span></a></li></ul></li></ul></li>
<li><a href="#md:architectural-notes"><span>Architectural <wbr/>Notes</span></a></li>
<li>
<ul>
<li><a href="#md:reflected-types-architecture"><span>Reflected <wbr/>Types <wbr/>Architecture</span></a></li>
<li><a href="#md:behind-the-scene-of-annotation-decorators"><span>Behind the <wbr/>Scene of <wbr/>Annotation <wbr/>Decorators</span></a></li>
<li><a href="#md:annotation-decorators-usage-for-constructor-parameters"><span>Annotation <wbr/>Decorators <wbr/>Usage for <wbr/>Constructor <wbr/>Parameters</span></a></li></ul></li></ul></li></ul></li></ul></div></details></div>
<div class="site-menu">
<nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-1"></use></svg><span>Semaver Libraries - v1.0.2</span></a>
<ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="..">
<li><a href="_semaver_core.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2"></use></svg>@semaver/core - v1.0.2</a></li>
<li><a href="_semaver_reflector.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-2"></use></svg>@semaver/reflector - v1.0.2</a></li></ul></nav></div></div></div>
<div class="overlay"></div><svg style="display: none"><g id="icon-1"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g><g id="icon-2"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g><g id="icon-8"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-enum)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.45 16V7.24H14.49V8.224H10.518V10.936H14.07V11.908H10.518V15.016H14.49V16H9.45Z" fill="var(--color-text)"></path></g><g id="icon-16"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-32"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-variable)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.106 16L8.85 7.24H9.966L11.454 13.192C11.558 13.608 11.646 13.996 11.718 14.356C11.79 14.708 11.842 14.976 11.874 15.16C11.906 14.976 11.954 14.708 12.018 14.356C12.09 13.996 12.178 13.608 12.282 13.192L13.758 7.24H14.85L12.582 16H11.106Z" fill="var(--color-text)"></path></g><g id="icon-64"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)"></path></g><g id="icon-128"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-256"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)"></path></g><g id="icon-512"><rect fill="var(--color-icon-background)" stroke="#4D7FFF" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-1024"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-2048"><rect fill="var(--color-icon-background)" stroke="#FF4DB8" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)"></path></g><g id="icon-4096"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)"></path></g><g id="icon-8192"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-16384"><rect fill="var(--color-icon-background)" stroke="#4D7FFF" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-32768"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-65536"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-131072"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-262144"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-524288"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-1048576"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-2097152"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-4194304"><rect fill="var(--color-icon-background)" stroke="#FF4D82" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M10.354 17V8.24H13.066C13.586 8.24 14.042 8.348 14.434 8.564C14.826 8.772 15.13 9.064 15.346 9.44C15.562 9.816 15.67 10.256 15.67 10.76C15.67 11.352 15.514 11.86 15.202 12.284C14.898 12.708 14.482 13 13.954 13.16L15.79 17H14.518L12.838 13.28H11.434V17H10.354ZM11.434 12.308H13.066C13.514 12.308 13.874 12.168 14.146 11.888C14.418 11.6 14.554 11.224 14.554 10.76C14.554 10.288 14.418 9.912 14.146 9.632C13.874 9.352 13.514 9.212 13.066 9.212H11.434V12.308Z" fill="var(--color-text)"></path></g><g id="icon-chevronDown"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></g><g id="icon-chevronSmall"><path d="M1.5 5.50969L8 11.6609L14.5 5.50969L12.5466 3.66086L8 7.96494L3.45341 3.66086L1.5 5.50969Z" fill="var(--color-text)"></path></g><g id="icon-menu"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></g><g id="icon-search"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></g><g id="icon-anchor"><g stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></g></g></svg></body></html>