<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@semaver/reflector - v1.1.0 | Semaver Libraries - v1.1.0</title><meta name="description" content="Documentation for Semaver Libraries"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Semaver Libraries - v1.1.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../index.html">Semaver Libraries</a></li><li><a href="_semaver_reflector.html">@semaver/reflector</a></li></ul><h1>Module @semaver/reflector - v1.1.0</h1></div><section class="tsd-panel tsd-typography"><a id="md:semaverreflector" class="tsd-anchor"></a><h1 class="tsd-anchor-link">@semaver/reflector<a href="#md:semaverreflector" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>An extensive way to deal with classes.</p>
<a id="md:about" class="tsd-anchor"></a><h2 class="tsd-anchor-link">About<a href="#md:about" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><strong><code>reflector</code></strong> package does a full examination of TypeScript classes. It provides an extensive mechanism for querying and filtering detailed information about class structure. The package supports the reflection of decorated class members and parameters with the help of the built-in concept of <a href="#md:annotation-decorators">Annotation Decorators</a>. Annotation Decorators are the decoration mechanism for the code annotations in TypeScript. In other words, it provides the possibility to label different class members and parameters. <strong><code>reflector</code></strong> covers sophisticated cases of working with such decorators, like dynamic decoration on runtime and inheritance of decorated class members.</p>
<a id="md:features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Features<a href="#md:features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Acquiring detailed class information via annotated class members and parameters.</li>
<li>Static and dynamic annotation (static: via @decorators; dynamic: on runtime, e.g., for third-party libs)</li>
<li>Handling inheritance of annotated class members and parameters with the help of the <a href="#md:decoration-policies">Decoration Policies</a>.</li>
</ul>
<a id="md:requirements" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Requirements<a href="#md:requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To be able to use <code>@decorator()</code> syntax in <strong>Typescript</strong> it's required to configure <code>tsconfig.json</code> file.
However, it is possible to avoid this by using <a href="#md:decorate-class-members-and-parameters-dynamically">dynamic decoration</a> (also works for <strong>JavaScript</strong> projects)</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;compilerOptions&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-10">...</span><br/><span class="hl-1">      </span><span class="hl-9">&quot;experimentalDecorators&quot;</span><span class="hl-1">: </span><span class="hl-2">true</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-9">&quot;emitDecoratorMetadata&quot;</span><span class="hl-1">: </span><span class="hl-2">true</span><span class="hl-1">           </span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>:warning: <strong>Important!</strong> Support for Typescript 5.x decorators will be available after the release of &quot;decorated parameters&quot;</p>
<p><a href="https://devblogs.microsoft.com/typescript/announcing-typescript-5-0/">Link</a> â†’ &quot;Differences with Experimental Legacy Decorators&quot;</p>
</blockquote>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-4">$</span><span class="hl-1"> </span><span class="hl-8">yarn</span><span class="hl-1"> </span><span class="hl-8">add</span><span class="hl-1"> </span><span class="hl-8">@semaver/reflector</span><span class="hl-1"> </span><span class="hl-2">--peer</span><br/><span class="hl-4">$</span><span class="hl-1"> </span><span class="hl-8">npm</span><span class="hl-1"> </span><span class="hl-8">install</span><span class="hl-1"> </span><span class="hl-8">@semaver/reflector</span><span class="hl-1">  </span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>:warning: <strong>Important!</strong> Please, pay attention that this package has a <strong>peer dependency to <code>@semaver/core</code></strong> library.</p>
<p>:warning: <strong>Important!</strong> Please, install the library as <strong>peer</strong> dependency if possible.</p>
</blockquote>
<a id="md:get-started" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Get Started<a href="#md:get-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>To get familiar with Reflector API, we will go through simple examples.</p>
<p><strong>Examples Setup</strong>: We are trying to develop software that will automatically add getters &amp; setters to the class properties. Let's have a look at how the <strong><code>reflector</code></strong> package and its built-in <a href="#md:annotation-decorators">Annotation Decorators</a> can help us with it.</p>
<a id="md:examples-setup-preparation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples Setup Preparation<a href="#md:examples-setup-preparation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Since our sample software should add getters &amp; setters to the class property,
let's define an example method that we can use for these purposes:</p>
<pre><code class="ts"><span class="hl-6">//Example function how to add accessors to the class property</span><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">addAccessors</span><span class="hl-1">&lt;</span><span class="hl-3">T</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1"> = </span><span class="hl-3">object</span><span class="hl-1">&gt;(</span><span class="hl-0">key</span><span class="hl-1">: </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">T</span><span class="hl-1">, </span><span class="hl-0">obj</span><span class="hl-1">: </span><span class="hl-3">T</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">privateKey</span><span class="hl-1">: </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">T</span><span class="hl-1"> = </span><span class="hl-8">&quot;_&quot;</span><span class="hl-1"> + </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-4">toString</span><span class="hl-1">() </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">T</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-4">defineProperty</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">, </span><span class="hl-0">privateKey</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">value:</span><span class="hl-1"> </span><span class="hl-0">obj</span><span class="hl-1">[</span><span class="hl-0">key</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-0">writable:</span><span class="hl-1"> </span><span class="hl-2">true</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-0">Object</span><span class="hl-1">.</span><span class="hl-4">defineProperty</span><span class="hl-1">(</span><span class="hl-0">obj</span><span class="hl-1">, </span><span class="hl-0">key</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-4">get</span><span class="hl-0">:</span><span class="hl-1"> () </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-8">&quot;GET: &quot;</span><span class="hl-1"> + </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-4">toString</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">obj</span><span class="hl-1">[</span><span class="hl-0">privateKey</span><span class="hl-1">];</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">set</span><span class="hl-0">:</span><span class="hl-1"> (</span><span class="hl-0">value</span><span class="hl-1">) </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-8">&quot;SET: &quot;</span><span class="hl-1"> + </span><span class="hl-0">key</span><span class="hl-1">.</span><span class="hl-4">toString</span><span class="hl-1">());</span><br/><span class="hl-1">      </span><span class="hl-0">obj</span><span class="hl-1">[</span><span class="hl-0">privateKey</span><span class="hl-1">] = </span><span class="hl-0">value</span><span class="hl-1">;</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>To add accessors to the class, we need to define a couple of sample classes on which we will test our code:</p>
<pre><code class="ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-8">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Circle</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1">{</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1"> (</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">radius</span><span class="hl-1"> = </span><span class="hl-0">radius</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>To simplify our code and to show the whole power of the built-in <a href="#md:annotation-decorators">Annotation Decorators</a> of the <strong><code>reflector</code></strong> package, we create an annotation decorator. It will be used to mark the properties that have to be updated with accessors.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">Decorator</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">DecoratorFn</span><br/><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">accessors</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AccessorsDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AccessorsDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>The final preparation step is to annotate our sample class properties with the <code>@accessors</code> annotation decorator:</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">accessors</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;../decorators/AccessorsDecorator&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-8">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Now, we are all set to explore the Reflector possibilities!</p>
<a id="md:example-1-how-to-get-class-members-with-reflector-api" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example 1: How to get class members with Reflector API<a href="#md:example-1-how-to-get-class-members-with-reflector-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>To apply our logic of adding accessors to the property, we can use Reflector API.
It will get us the properties from the class.
We can do that in many ways:</p>
<ol>
<li>via the property name one by one;</li>
<li>as a group of all annotated class properties;</li>
<li>via the Reflector Query API to get an array of the all annotated class properties.</li>
</ol>
<a id="md:example-11-get-property-by-name" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example 1.1 Get Property By Name<a href="#md:example-11-get-property-by-name" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p>:information_source: More information on Reflector API and how to get other class members and parameters can be found here: <a href="#md:get-class-members-and-parameters">Get Class Members and Parameters</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Property</span><span class="hl-1">, </span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//Get property by name</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">xProperty</span><span class="hl-1">: </span><span class="hl-3">Property</span><span class="hl-1"> = </span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">getProperty</span><span class="hl-1">(</span><span class="hl-8">&quot;x&quot;</span><span class="hl-1">, </span><span class="hl-2">false</span><span class="hl-1">);</span><br/><br/><span class="hl-6">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-4">addAccessors</span><span class="hl-1">(</span><span class="hl-0">xProperty</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Shape</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1"> : </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">,</span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-8">&quot;red&quot;</span><span class="hl-1">); </span><span class="hl-6">//CONSOLE: SET x</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">); </span><span class="hl-6">// CONSOLE: GET: x; 3</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-12-get-annotated-properties" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example 1.2: Get Annotated Properties<a href="#md:example-12-get-annotated-properties" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p>:information_source: Detailed information on how to create and use Annotation Decorators can be found here: <a href="#md:annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//Get all decorated properties</span><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedProperties</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-1">  </span><span class="hl-4">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Shape</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1">: </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-8">&quot;red&quot;</span><span class="hl-1">); </span><span class="hl-6">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">); </span><span class="hl-6">// CONSOLE: GET: x; 3</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-13-get-property-by-query" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example 1.3: Get Property By Query<a href="#md:example-13-get-property-by-query" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p>:information_source: More information on Reflector API and how to query annotated class members and parameters can be found here: <a href="#md:query-class-members-and-parameters">Query Class Members and Parameters</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">ByMemberType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">ClassMember</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">DecoratedElementType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">QueryExecutor</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">Reflector</span><br/><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//Create query instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">query</span><span class="hl-1">();</span><br/><br/><span class="hl-6">//Filter query to get all properties (get all class members that have &quot;PROPERTY&quot; type)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberTypeQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberType</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">DecoratedElementType</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">));</span><br/><br/><span class="hl-6">//Get the result from the query as an array of properties</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">members</span><span class="hl-1">: </span><span class="hl-3">ClassMember</span><span class="hl-1">[] = </span><span class="hl-0">byMemberTypeQuery</span><span class="hl-1">.</span><span class="hl-4">members</span><span class="hl-1">().</span><span class="hl-4">all</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt;&gt;();</span><br/><br/><span class="hl-6">//Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-0">members</span><span class="hl-1">.</span><span class="hl-4">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-4">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Shape</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">));</span><br/><br/><span class="hl-6">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1"> : </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">,</span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-8">&quot;red&quot;</span><span class="hl-1">); </span><span class="hl-6">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">); </span><span class="hl-6">// CONSOLE: GET: x; 3</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-2-how-to-work-with-annotation-decorator-policies" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example 2: How to work with annotation decorator policies<a href="#md:example-2-how-to-work-with-annotation-decorator-policies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="#md:annotation-decorators">Annotation Decorators</a> unlock the power of <a href="#md:decoration-policies">Decoration Policies</a>, which we will investigate in this and further examples.</p>
<blockquote>
<p>:information_source: Detailed information on all available Decoration Policies and their properties can be found here: <a href="#md:decoration-policies">Decoration Policies</a></p>
</blockquote>
<p>We agreed to add accessors to the class properties. So we can limit our <code>@accessors</code> annotation to the class properties only. This can be done with the help of <a href="#md:access-policy">Access Policy</a>, which we need to configure for the annotation decorator:</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">Decorator</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">DecoratorFn</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">accessors</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AccessorsDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AccessorsDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">//Add Access Policy and configure it to make annotation available to class properties only</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Now we add the <code>@accessors</code> annotation to the Shape class properties and draw() method to make sure that <code>@accessors</code> will be just ignored on everything that is not a class property:</p>
<pre><code class="ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">//Access Policy does not allow this annotation, so will be just ignored</span><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-8">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>So let's check that Reflector will see 3 annotated Shape class properties but won't find any annotated method:</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">reflector</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//Check that Reflector sees 3 decorated properties</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedProperties</span><span class="hl-1">()); </span><span class="hl-6">// CONSOLE: [Property, Property, Property]</span><br/><br/><span class="hl-6">//Check that Reflector sees any decorated methods</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedMethods</span><span class="hl-1">()); </span><span class="hl-6">// CONSOLE: []</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-3-how-to-work-with-annotation-decorator-inheritance" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example 3: How to work with annotation decorator inheritance<a href="#md:example-3-how-to-work-with-annotation-decorator-inheritance" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>As classes in TS support inheritance, <a href="#md:annotation-decorators">Annotation Decorators</a> support it as well for the same class member and parameter. It is regulated via Inheritance <a href="#md:decoration-policies">Decoration Policies</a>: <a href="#md:collision-policy">Collision Policy</a>, <a href="#md:not-existence-policy">Not-Existence Policy</a>, <a href="#md:appearance-policy">Appearance Policy</a>.</p>
<p>We will see how it works on the example of <a href="#md:not-existence-policy">Not-Existence Policy</a>.
It defines the behavior of the decorator if it does <strong>NOT EXIST</strong> in the child class,
but <strong>EXISTS</strong> in its direct parent class for the same class member or argument.</p>
<p><a href="#md:not-existence-policy">Not-Existence Policy</a> has 2 values:</p>
<ul>
<li><code>SKIP</code> - decorator from the direct parent class is <strong>not used</strong> for the child class;</li>
<li><code>APPLY</code> - decorator from the direct parent class is <strong>used</strong> for the child class.</li>
</ul>
<p>In our original example: Shape class is a parent class and Circle is a child class. We assume that we want Circle class to also have inherited properties annotated, so the <a href="#md:not-existence-policy">Not-Existence Policy</a> should be set to <code>APPLY</code>.
To make this happen, we need to add it to the <code>@accessors</code> annotation decorator:</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-0">Decorator</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">DecoratorFn</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">,</span><br/><span class="hl-1">   </span><span class="hl-0">PrimitiveMetadataAccessPolicy</span><br/><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">accessors</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AccessorsDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AccessorsDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">   </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">       </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">;</span><br/><span class="hl-1">   }</span><br/><br/><span class="hl-1">   </span><span class="hl-6">// Add Not-Existence Policy to enforce the inheritance of the annotations for inherited properties</span><br/><span class="hl-1">   </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">       </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">.</span><span class="hl-5">APPLY</span><span class="hl-1">;</span><br/><span class="hl-1">   }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>:information_source: <a href="#md:not-existence-policy">Not-Existence Policy</a>: <code>APPLY</code> is actually the default value for this policy. So there is no need to redefine it again in AccessorsDecorator class, because it will be default behavior anyway. But we are doing it in this example for better visibility and understanding.</p>
</blockquote>
<p>Now we can check that even without setting anything explicitly in the Circle class, Reflector can see inherited properties as annotated, so we can get them and apply our update with accessors logic:</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">circleReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Circle</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">Circle</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//Get decorated properties in Circle via Not-Existence Policy</span><br/><span class="hl-0">circleReflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedProperties</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1"> </span><span class="hl-6">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-1"> </span><span class="hl-4">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">Circle</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myCircle</span><span class="hl-1">: </span><span class="hl-3">Circle</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Circle</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-8">&quot;red&quot;</span><span class="hl-1">, </span><span class="hl-11">5</span><span class="hl-1">);</span><span class="hl-6">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">myCircle</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">);</span><span class="hl-6">// CONSOLE: GET: x; 3</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-4-how-to-get-all-annotated-properties-in-all-classes" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example 4: How to get all annotated properties in all classes<a href="#md:example-4-how-to-get-all-annotated-properties-in-all-classes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>As a final step, we need to make our approach to update class properties with accessors as general as possible,
so it will be good not to rely on concrete classes and property names.
<strong><code>reflector</code></strong> package gives us such possibility.
It has centralized storage for the decorated classes (classes that contain decorated members and parameters),
called ClassTable.</p>
<blockquote>
<p>:information_source: Detailed information on ClassTable and how to get all decorated classes can be found here: <a href="#md:get-all-decorated-classes">Get All Decorated Classes</a></p>
</blockquote>
<p>We can see how it works in our Shape-Circle example. We need to add the <code>@accessors</code> annotation to the <code>Circle.radius</code> property, to cover all existing properties:</p>
<pre><code class="ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Circle</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-4">accessors</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, </span><span class="hl-0">radius</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">radius</span><span class="hl-1"> = </span><span class="hl-0">radius</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Now we can check how all properties in both classes will be seen by Reflector, and we can update them with accessors:</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">// Reflect has direct access to the ClassTable from where it can get all decorated classes</span><br/><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">getClassTable</span><span class="hl-1">().</span><span class="hl-4">getClasses</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">(</span><span class="hl-0">cls</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-6">//Create Reflector instance</span><br/><span class="hl-1">  </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">cls</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-6">//Get all decorated properties from the class</span><br/><span class="hl-1">  </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedProperties</span><span class="hl-1">().</span><span class="hl-4">forEach</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">// Method to add accessors to the property, example implementation can be found in Examples Setup Preparation</span><br/><span class="hl-1">    </span><span class="hl-4">addAccessors</span><span class="hl-1">(</span><span class="hl-0">prop</span><span class="hl-1">.</span><span class="hl-4">getName</span><span class="hl-1">() </span><span class="hl-7">as</span><span class="hl-1"> </span><span class="hl-2">keyof</span><span class="hl-1"> </span><span class="hl-3">object</span><span class="hl-1">, </span><span class="hl-3">cls</span><span class="hl-1">.</span><span class="hl-0">prototype</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">//Check if setter &amp; getter are executed</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myShape</span><span class="hl-1">: </span><span class="hl-3">Shape</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Shape</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-8">&quot;red&quot;</span><span class="hl-1">);</span><span class="hl-6">//CONSOLE: SET x; SET y; SET color</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">myShape</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">);</span><span class="hl-6">// CONSOLE: GET: x; 3</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">myCircle</span><span class="hl-1">: </span><span class="hl-3">Circle</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">Circle</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-8">&quot;red&quot;</span><span class="hl-1">, </span><span class="hl-11">5</span><span class="hl-1">);</span><span class="hl-6">//CONSOLE: SET x; SET y; SET color; SET: radius</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-0">myCircle</span><span class="hl-1">.</span><span class="hl-0">radius</span><span class="hl-1">);</span><span class="hl-6">// CONSOLE: GET: radius; 5</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-5-how-to-annotate-class-dynamically" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example 5: How to annotate class dynamically<a href="#md:example-5-how-to-annotate-class-dynamically" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In the previous examples, we were working with statically annotated classes.
The Reflector API gives us the possibility to annotate class members and parameters dynamically during run-time
(e.g., for some library class).</p>
<blockquote>
<p>:information_source: Detailed information on dynamic class annotation can be found here: <a href="#md:decorate-class-members-and-parameters-dynamically">Decorate Class Members &amp; Parameters Dynamically</a></p>
</blockquote>
<p>Let's try it on our basic sample class <code>Shape</code> without any static annotations:</p>
<pre><code class="ts"><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">Shape</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">x</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">y</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">color</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">x</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">y</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">color</span><span class="hl-1"> = </span><span class="hl-0">color</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">draw</span><span class="hl-1">(): </span><span class="hl-3">void</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-4">log</span><span class="hl-1">(</span><span class="hl-8">&quot;Let&#39;s imagine that we are drawing smth here!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>To do this, we only need to call the <code>addDecorator()</code> method of the Reflector with the annotation decorator method <code>accessors()</code> as a parameter:</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Reflector</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-6">//Create Reflector instance</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">shapeReflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">Shape</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">Shape</span><span class="hl-1">);</span><br/><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">getProperty</span><span class="hl-1">(</span><span class="hl-8">&quot;x&quot;</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">accessors</span><span class="hl-1">());</span><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">getProperty</span><span class="hl-1">(</span><span class="hl-8">&quot;y&quot;</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">accessors</span><span class="hl-1">());</span><br/><span class="hl-0">shapeReflector</span><span class="hl-1">.</span><span class="hl-4">getAccessor</span><span class="hl-1">(</span><span class="hl-8">&quot;color&quot;</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">accessors</span><span class="hl-1">());</span>
</code><button type="button">Copy</button></pre>

<a id="md:reflector-documentation" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Reflector Documentation<a href="#md:reflector-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><ul>
<li><a href="#md:reflector-api">Reflector API</a>
<ul>
<li><a href="#md:reflected-types">Reflected Types</a></li>
<li><a href="#md:get-class-members-and-parameters">Get Class Members and Parameters</a></li>
<li><a href="#md:query-class-members-and-parameters">Query Class Members and Parameters</a></li>
<li><a href="#md:filter-class-members-and-parameters">Filter Class Members and Parameters</a>
<ul>
<li><a href="#md:custom-filters">Custom Filters</a></li>
</ul>
</li>
<li><a href="#md:decorate-class-members-and-parameters-dynamically">Decorate Class Members &amp; Parameters Dynamically</a></li>
<li><a href="#md:get-all-decorated-classes">Get All Decorated Classes</a></li>
</ul>
</li>
<li><a href="#md:annotation-decorators">Annotation Decorators</a>
<ul>
<li><a href="#md:create-annotation-decorators">Create Annotation Decorators</a>
<ul>
<li><a href="#md:step-1-define-decorator-function">STEP 1: Define Decorator Function</a></li>
<li><a href="#md:step-2-define-decorator-class">STEP 2: Define Decorator Class</a></li>
<li><a href="#md:optional-step-3-define-decoration-policies">[OPTIONAL] STEP 3: Define Decoration Policies</a></li>
<li><a href="#md:optional-step-4-define-decorator-parameters">[OPTIONAL] STEP 4: Define Decorator Parameters</a></li>
</ul>
</li>
<li><a href="#md:use-annotation-decorators">Use Annotation Decorators</a></li>
<li><a href="#md:decoration-policies">Decoration Policies</a>
<ul>
<li><a href="#md:access-policy">Access Policy</a></li>
<li><a href="#md:same-target-multi-usage-policy">Same-Target-Multi-Usage Policy</a></li>
<li><a href="#md:collision-policy">Collision Policy</a></li>
<li><a href="#md:not-existence-policy">Not-Existence Policy</a></li>
<li><a href="#md:appearance-policy">Appearance Policy</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#md:architectural-notes">Architectural Notes</a>
<ul>
<li><a href="#md:reflected-types-architecture">Reflected Types Architecture</a></li>
<li><a href="#md:behind-the-scene-of-annotation-decorators">Behind the Scene of Annotation Decorators</a></li>
<li><a href="#md:annotation-decorators-usage-for-constructor-parameters">Annotation Decorators Usage for Constructor Parameters</a></li>
</ul>
</li>
</ul>
<a id="md:reflector-api" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Reflector API<a href="#md:reflector-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The main goal of the reflection is to provide information about class structure. The <strong><code>reflector</code></strong> package gives you the possibility to access class members and parameters directly by name or query annotated structural items by some condition. The annotations <strong>HAVE TO</strong> be built on the <a href="#md:annotation-decorators">Annotation Decorators</a> mechanism, that is provided by this package, otherwise class members and parameters won't be visible to the Reflector.</p>
<blockquote>
<p>:information_source: <a href="#md:annotation-decorators">Annotation Decorators</a> is the decoration mechanism for the code annotations in TypeScript. It provides the possibility to label different class members and parameters. How to create and use annotation decorators can be found here: <a href="#md:annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<p>To get access to the Reflector API, the Reflector object has to be created. It can be done in 2 ways:</p>
<ul>
<li>with reflected class type;</li>
<li>with reflected class instance.</li>
</ul>
<pre><code class="ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someReflector1</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">SomeClass</span><span class="hl-1">);</span><br/><span class="hl-6">// or</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">instance</span><span class="hl-1">: </span><span class="hl-3">SomeClass</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">SomeClass</span><span class="hl-1">();</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someReflector2</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">instance</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>:information_source: Method <code>from()</code> takes 2 parameters: 1. class type/instance 2. <code>autoSync</code> parameter(boolean: true/false). The <code>autoSync</code> parameter is used for the dynamic decoration. Its default value is false, which means that the Reflector will ignore dynamically added/removed decorators. When <code>autoSync</code> is set to true, it will make the Reflector automatically synchronize its state and see all changes that are made by dynamic decoration. More details on dynamic decoration can be found at <a href="#md:decorate-class-members-and-parameters-dynamically">Decorate Class Members &amp; Parameters Dynamically</a>.</p>
</blockquote>
<a id="md:reflected-types" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Reflected Types<a href="#md:reflected-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>There are four class member types and one parameter type that Reflector can acquire:</p>
<pre><code class="ts"><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">ClassMemberType</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1"> = </span><span class="hl-8">&quot;CONSTRUCTOR&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PROPERTY</span><span class="hl-1"> = </span><span class="hl-8">&quot;PROPERTY&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">ACCESSOR</span><span class="hl-1"> = </span><span class="hl-8">&quot;ACCESSOR&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">METHOD</span><span class="hl-1"> = </span><span class="hl-8">&quot;METHOD&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">ParameterType</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER</span><span class="hl-1"> = </span><span class="hl-8">&quot;PARAMETER&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>The reflected type is a wrapper class under the relevant language construction, that helps to properly encapsulate necessary information about the requested class member or parameter.</p>
<blockquote>
<p>:information_source: More details on reflected types can be found at <a href="#md:reflected-types-architecture">Reflected Types Architecture</a>.</p>
</blockquote>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:get-class-members-and-parameters" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get Class Members and Parameters<a href="#md:get-class-members-and-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To retrieve necessary information from the class, you need to create a Reflector instance for this class and call the relevant API method. In the case of a decorated class member or parameter, the Reflector will return additional information about applied decorators.</p>
<blockquote>
<p>:warning: <strong>Important!</strong> If you want to get a class member or parameter by <strong>name</strong>, please beware of the obfuscation/minification level. During such procedures, the names can be changed. It will make a reflection of such class members or parameters not possible because the requested code won't be found.</p>
</blockquote>
<pre><code class="ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">SomeClass</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---CONSTRUCTOR---------------------------------------------------------------------------</span><br/><br/><span class="hl-6">// returns constructor of a class (decorated or not)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">baseConstructor</span><span class="hl-1">: </span><span class="hl-3">Constructor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getConstructor</span><span class="hl-1">();</span><br/><br/><span class="hl-6">//---METHOD---------------------------------------------------------------------------------</span><br/><br/><span class="hl-6">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-6">// returns instance/static method by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">methodName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-8">&#39;myMethod&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isMethodStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someMethod</span><span class="hl-1">: </span><span class="hl-3">Method</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getMethod</span><span class="hl-1">(</span><span class="hl-0">methodName</span><span class="hl-1">, </span><span class="hl-0">isMethodStatic</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---FIELD (UNION OF ACCESSOR &amp; PROPERTY)----------------------------------------------------</span><br/><br/><span class="hl-6">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-6">// returns instance/static field by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">fieldName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-8">&#39;myField&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isFieldStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someField</span><span class="hl-1">: </span><span class="hl-3">Field</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getField</span><span class="hl-1">(</span><span class="hl-0">fieldName</span><span class="hl-1">, </span><span class="hl-0">isFieldStatic</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---ACCESSOR--------------------------------------------------------------------------------</span><br/><br/><span class="hl-6">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-6">// returns instance/static accessor by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">accessorName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-8">&#39;myAccessor&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isAccessorStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someAccessor</span><span class="hl-1">: </span><span class="hl-3">Accessor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><br/><span class="hl-1">      </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getAccessor</span><span class="hl-1">(</span><span class="hl-0">accessorName</span><span class="hl-1">, </span><span class="hl-0">isAccessorStatic</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---PROPERTY--------------------------------------------------------------------------------</span><br/><br/><span class="hl-6">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-6">// returns instance/static property by name (decorated or not) or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">propertyName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-8">&#39;myProperty&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isPropertyStatic</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">someProperty</span><span class="hl-1">: </span><span class="hl-3">Property</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><br/><span class="hl-1">      </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getProperty</span><span class="hl-1">(</span><span class="hl-0">propertyName</span><span class="hl-1">, </span><span class="hl-0">isPropertyStatic</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To ease the work with class annotation decorators, additional decorator-specific methods are provided:</p>
<pre><code class="ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">SomeClass</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---ADDITIONAL ANNOTATION DECORATOR-SPESIFIC METHODS------------------------------------------------------</span><br/><br/><span class="hl-6">// if constructor or any parameters of the constructor are decorated,</span><br/><span class="hl-6">// returns constructor or else undefined</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decoratedConstructor</span><span class="hl-1">: </span><span class="hl-3">Constructor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedConstructor</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns all decorated methods or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">methods</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Method</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedMethods</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns all decorated fields (accessors and properties) or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">fields</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Field</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedFields</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns all decorated accessors or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">accessors</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Accessor</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedAccessors</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns all decorated properies or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">properies</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">Property</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedProperties</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns all decorated constructor, methods, accessors, fields or else empty array</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">members</span><span class="hl-1">: </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&lt;</span><span class="hl-3">SomeClass</span><span class="hl-1">&gt;&gt; = </span><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedMembers</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:query-class-members-and-parameters" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Query Class Members and Parameters<a href="#md:query-class-members-and-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can get different class members and parameters with the help of the Query API. But the <strong><code>reflector</code></strong> queries work only with annotated via <a href="#md:annotation-decorators">Annotation Decorators</a> class elements. Non-annotated elements will not be visible to the query mechanism.</p>
<blockquote>
<p>:information_source: How to create and use annotation decorators can be found here: <a href="#md:annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-6">// returns query executor from class info</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">).</span><span class="hl-4">query</span><span class="hl-1">();</span><br/><br/><span class="hl-6">//---CLASS MEMBERS---------------------------------------------------------------------------</span><br/><br/><span class="hl-6">// returns member selector from query</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberSelector</span><span class="hl-1">: </span><span class="hl-3">QueryMembersSelector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">members</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns class members from member selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">members</span><span class="hl-1">: </span><span class="hl-3">ClassMember</span><span class="hl-1">[] = </span><span class="hl-0">membersSelector</span><span class="hl-1">.</span><span class="hl-4">all</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&gt;()</span><br/><br/><span class="hl-6">// returns first class member from member selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">firstFoundMember</span><span class="hl-1">: </span><span class="hl-3">ClassMember</span><span class="hl-1"> = </span><span class="hl-0">membersSelector</span><span class="hl-1">.</span><span class="hl-4">first</span><span class="hl-1">&lt;</span><span class="hl-3">ClassMember</span><span class="hl-1">&gt;()</span><br/>
</code><button type="button">Copy</button></pre>

<p>There is also an additional Query API for the annotation decorators. Since <a href="#md:annotation-decorators">Annotation Decorators</a> support inheritance of the decorated members and parameters, we differentiate between the decorators that will be actually executed and the class's own decorators that were explicitly assigned to exactly this class member or parameter. The actual execution might be influenced by the inheritance of the decorators and <a href="#md:decoration-policies">Decoration Policies</a> (if they are defined).</p>
<blockquote>
<p>:information_source: Detailed information on decoration policies and their parameters can be found here: <a href="#md:decoration-policies">Decoration Policies</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-6">//---CLASS MEMBER &amp; PARAMETER ANNOTATION DECORATORS----------------------------------------------------</span><br/><br/><span class="hl-6">// returns all decorators from query (incl. decoration inheritance &amp; acc. to decoration policies)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decoratorSelector</span><span class="hl-1">: </span><span class="hl-3">QueryDecoratorSelector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">decorators</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns all decorators from query (that belongs to this class only : no inheritance, no decoration policies applied)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">ownDecorators</span><span class="hl-1">: </span><span class="hl-3">QueryDecoratorSelector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">ownDecorators</span><span class="hl-1">();</span><br/><br/><span class="hl-6">// returns member and parameter decorators from decorator selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decorators</span><span class="hl-1">: </span><span class="hl-3">Decorator</span><span class="hl-1">[] = </span><span class="hl-0">decoratorSelector</span><span class="hl-1">.</span><span class="hl-4">all</span><span class="hl-1">()</span><br/><br/><span class="hl-6">// returns class member decorators from decorator selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberDecorators</span><span class="hl-1">: </span><span class="hl-3">Decorator</span><span class="hl-1">[] = </span><span class="hl-0">decoratorSelector</span><span class="hl-1">.</span><span class="hl-4">ofMembers</span><span class="hl-1">()</span><br/><br/><span class="hl-6">// returns class parameter decorators from decorator selector</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">parameterDecorators</span><span class="hl-1">: </span><span class="hl-3">Decorator</span><span class="hl-1">[] = </span><span class="hl-0">decoratorSelector</span><span class="hl-1">.</span><span class="hl-4">ofParameters</span><span class="hl-1">()</span><br/>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:filter-class-members-and-parameters" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Filter Class Members and Parameters<a href="#md:filter-class-members-and-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can filter class members and parameters based on available filtering conditions:</p>
<ul>
<li><code>ByMemberName</code> - to filter class members by name;</li>
<li><code>ByMemberType</code> - to filter class members by type (CONSTRUCTOR, METHOD, PROPERTY, ACCESSOR);</li>
<li><code>ByStaticMember</code> - to filter class members by static/non-static;</li>
<li><code>ByDecoratorClass</code> - to filter class members by annotation decorator class (class member decorator or parameter decorator);</li>
<li><code>ByMemberDecoratorClass</code> - to filter class members by class member annotation decorator class</li>
<li><code>ByParameterDecoratorClass</code> - to filter class members by parameter annotation decorator class</li>
</ul>
<p>Filtering is based on the query mechanism, that is described in <a href="#md:query-class-members-and-parameters">Query Class Members and Parameters</a>.
To access filtered values, please refer to the Query API.</p>
<blockquote>
<p>:warning: <strong>Important!</strong> If you want to get a class member or parameter by <strong>name</strong>, please beware of the obfuscation/minification level. During such procedures, the names can be changed. It will make a reflection of such class members or parameters not possible because the requested code won't be found.</p>
</blockquote>
<pre><code class="ts"><span class="hl-6">// returns query executor from class info</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">query</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">).</span><span class="hl-4">query</span><span class="hl-1">();</span><br/><br/><span class="hl-6">//---FILTER BY NAME-------------------------------------------------------------------------</span><br/><span class="hl-6">// BEWARE OF OBFUSCATION/MINIFICATION LEVEL</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberName</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1"> = </span><span class="hl-8">&quot;someClassMemberName&quot;</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberNameQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><br/><span class="hl-1">      </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberName</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">));</span><br/><br/><span class="hl-6">//---FILTER BY MEMBER TYPE------------------------------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">memberType</span><span class="hl-1">: </span><span class="hl-3">DecoratedElementType</span><span class="hl-1"> = </span><span class="hl-0">DecoratedElementType</span><span class="hl-1">.</span><span class="hl-5">METHOD</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberTypeQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberType</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">memberType</span><span class="hl-1">));</span><br/><br/><span class="hl-6">//---FILTER BY STATIC/NONSTATIC MEMBER------------------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isMemberStatic</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1"> = </span><span class="hl-2">false</span><span class="hl-1">;</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberStaticQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">filter</span><span class="hl-1">(</span><span class="hl-0">ByStaticMember</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">isMemberStatic</span><span class="hl-1">));</span><br/><br/><br/><span class="hl-6">//---FILTER BY ANNOTATION DECORATOR (3 Examples)</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">decoratorClass</span><span class="hl-1">: </span><span class="hl-3">IClass</span><span class="hl-1">&lt;</span><span class="hl-3">AnnotationDecorator</span><span class="hl-1">&gt; = </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">;</span><br/><br/><span class="hl-6">//---1. FILTER BY ANNOTATION DECORATOR FOR CLASS MEMBERS &amp; PARAMETERS-------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byDecoratorClassQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">filter</span><span class="hl-1">(</span><span class="hl-0">ByDecoratorClass</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">decoratorClass</span><span class="hl-1">));</span><br/><br/><span class="hl-6">//---2. FILTER BY ANNOTATION DECORATOR FOR PARAMETRS ONLY-------------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byParameterDecoratorClassClassQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">filter</span><span class="hl-1">(</span><span class="hl-0">ByParameterDecoratorClass</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">decoratorClass</span><span class="hl-1">));</span><br/><br/><span class="hl-6">//---3. FILTER BY ANNOTATION DECORATOR FOR CLASS MEMBERS ONLY---------------------------------------------</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">byMemberDecoratorClassQuery</span><span class="hl-1">: </span><span class="hl-3">QueryExecutor</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; =</span><br/><span class="hl-1">        </span><span class="hl-0">query</span><span class="hl-1">.</span><span class="hl-4">filter</span><span class="hl-1">(</span><span class="hl-0">ByMemberDecoratorClass</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">decoratorClass</span><span class="hl-1">));</span><br/>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:custom-filters" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Custom Filters<a href="#md:custom-filters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>It is possible to combine/chain different filtering conditions or create your conditions
by implementing <a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/reflector/query/IQueryCondition.ts">IQueryCondition</a> interface.
The examples can be found in already existing filters:</p>
<ul>
<li><a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/reflector/query/conditions/members/ByMemberType.ts">Filter By Member Type</a>;</li>
<li><a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/reflector/query/conditions/members/ByMemberName.ts">Filter By Member Name</a></li>
</ul>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:decorate-class-members-and-parameters-dynamically" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Decorate Class Members and Parameters Dynamically<a href="#md:decorate-class-members-and-parameters-dynamically" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you need to add/remove decorators dynamically on runtime, the <strong><code>reflector</code></strong> package with its <a href="#md:annotation-decorators">Annotation Decorators</a> can provide that.
Based on <a href="#md:reflected-types-architecture">Reflected Types Architecture</a>, each <a href="#md:reflected-types">Reflected Type</a> are the child of <code>DecoratedElement&lt;T&gt;</code> class and inherits 2 methods:</p>
<ul>
<li><code> addDecorator(decoratorOrFn: Decorator | DecoratorFn): boolean</code> - for adding decorators on runtime
<ul>
<li><code>decoratorOrFn</code> - decorator function</li>
</ul>
</li>
<li><code>removeDecorator(decoratorOrClass: IClass&lt;Decorator&gt; | Decorator): boolean</code> - for deleting decorators on runtime
<ul>
<li><code>decoratorOrClass</code> - decorator class</li>
</ul>
</li>
</ul>
<p>Let's assume we have defined annotation decorator:</p>
<blockquote>
<p>:information_source: Detailed information on how to create annotation decorators can be found here: <a href="#md:annotation-decorators">Annotation Decorators</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>It is important to note that when decorators are added/removed dynamically, the Reflector has to be refreshed. There are two approaches to do that.</p>
<ol>
<li>Set the <code>autoSync</code> parameter to true when the Reflector is created. It will make the Reflector to update each time when the Reflector API is called, so it will help to keep the Reflector always up to date automatically. The default value of <code>autoSync</code> is false: the Reflector does not update automatically.</li>
</ol>
<pre><code class="ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">); </span><span class="hl-6">//autoSync is true, the Reflector will be updated automatically</span>
</code><button type="button">Copy</button></pre>

<ol start="2">
<li>As mentioned before, by default <code>autoSync</code> is set to false, so the Reflector won't see added/removed decorator. To change that the Reflector has to be explicitly updated via the <code>refresh()</code> method.</li>
</ol>
<pre><code class="ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">); </span><span class="hl-6">//autoSync is false, the Reflector will NOT be updated automatically</span><br/><span class="hl-6">//SAME AS</span><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">, </span><span class="hl-2">false</span><span class="hl-1">); </span><span class="hl-6">//autoSync is false, the Reflector will NOT be updated automatically</span><br/><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getConstructor</span><span class="hl-1">().</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">()); </span><span class="hl-6">//added decorator &#39;annotation()&#39; is not visible to the Reflector</span><br/><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">refresh</span><span class="hl-1">(); </span><span class="hl-6">//explicit update makes newly added decorator visible to the Reflector</span>
</code><button type="button">Copy</button></pre>

<p><strong>The Complete Reflector API for Dynamic Decoration:</strong></p>
<pre><code class="ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">reflector</span><span class="hl-1">: </span><span class="hl-3">Reflector</span><span class="hl-1">&lt;</span><span class="hl-3">MyClass</span><span class="hl-1">&gt; = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">from</span><span class="hl-1">(</span><span class="hl-0">MyClass</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---CONSTRUCTOR---------------------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getConstructor</span><span class="hl-1">().</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">());</span><br/><span class="hl-6">// OR</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getConstructor</span><span class="hl-1">().</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AnnotationDecorator</span><span class="hl-1">()));</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getConstructor</span><span class="hl-1">().</span><span class="hl-4">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---CONSTRUCTOR PARAMETERS-----------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedConstructor</span><span class="hl-1">().</span><span class="hl-4">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getDecoratedConstructor</span><span class="hl-1">().</span><span class="hl-4">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-4">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---FIELD (UNION OF ACCESSOR &amp; PROPERTY)---------------------------------------------------</span><br/><span class="hl-6">// true - for instance class member, false - for static class members</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getField</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getField</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---ACCESSOR-------------------------------------------------------------------------------</span><br/><span class="hl-6">// true - for instance class member, false - for static class members</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getAccessor</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getAccessor</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---PROPERTY-------------------------------------------------------------------------------</span><br/><span class="hl-6">// true - for instance class member, false - for static class members</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getProperty</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getProperty</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---METHOD---------------------------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-6">//---METHOD PARAMETERS-----------------------------------------------------------------------</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-4">addDecorator</span><span class="hl-1">(</span><span class="hl-4">annotation</span><span class="hl-1">());</span><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">getMethod</span><span class="hl-1">(</span><span class="hl-0">memberName</span><span class="hl-1">, </span><span class="hl-2">true</span><span class="hl-1">).</span><span class="hl-4">getParameterAt</span><span class="hl-1">(</span><span class="hl-11">0</span><span class="hl-1">).</span><span class="hl-4">removeDecorator</span><span class="hl-1">(</span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">);</span><br/><br/><span class="hl-0">reflector</span><span class="hl-1">.</span><span class="hl-4">refresh</span><span class="hl-1">();</span><br/>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:get-all-decorated-classes" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get All Decorated Classes<a href="#md:get-all-decorated-classes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p><strong><code>reflector</code></strong> stores information about decorated classes (with <a href="#md:annotation-decorators">Annotation Decorators</a>) in a special centralized storage, called <strong>ClassTable</strong>. It is possible to retrieve decorated classes from ClassTable.</p>
<blockquote>
<p>:warning: ClassTable contains only classes that have their <strong>OWN</strong> decorators (<strong>NOT</strong> decorators assigned to the class via decorators' inheritance &amp; <a href="#md:decoration-policies">Decoration Policies</a>). However, it is possible to add such a class to ClassTable by applying annotation decorator <code>@reflect()</code> on this class.</p>
</blockquote>
<p>To retrieve decorated classes from the ClassTable:</p>
<pre><code class="ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">classTable</span><span class="hl-1">: </span><span class="hl-3">IClassTable</span><span class="hl-1"> = </span><span class="hl-0">Reflector</span><span class="hl-1">.</span><span class="hl-4">getClassTable</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p><strong>ClassTable has next API:</strong></p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IClassTable</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-4">getClasses</span><span class="hl-1">(): </span><span class="hl-3">ReadonlySet</span><span class="hl-1">&lt;</span><span class="hl-3">IMetadataClass</span><span class="hl-1">&lt;</span><span class="hl-3">unknown</span><span class="hl-1">&gt;&gt;;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-4">getSyncHash</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">subscribe</span><span class="hl-1">(...</span><span class="hl-0">subscribers</span><span class="hl-1">: </span><span class="hl-3">IClassTableSubscriber</span><span class="hl-1">[]): </span><span class="hl-3">this</span><br/><br/><span class="hl-1">    </span><span class="hl-4">unsubscribe</span><span class="hl-1">(...</span><span class="hl-0">subscribers</span><span class="hl-1">: </span><span class="hl-3">IClassTableSubscriber</span><span class="hl-1">[]): </span><span class="hl-3">this</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><code>getClasses</code> - provides a set of all decorated classes.</p>
<p><code>getSyncHash</code> - detects if ClassTable was changed (hash is recalculated on each ClassTable modification).</p>
<p><code>subscribe/unsubscribe</code> - detects ClassTable modification: the subscriber can get detailed information on what exactly was modified.</p>
<p><strong>ClassTable Subscription has next API:</strong></p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IClassTableSubscriber</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">onClassTableUpdate</span><span class="hl-1">(</span><span class="hl-0">update</span><span class="hl-1">: </span><span class="hl-3">IClassTableUpdate</span><span class="hl-1">): </span><span class="hl-3">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">interface</span><span class="hl-1"> </span><span class="hl-3">IClassTableUpdate</span><span class="hl-1">&lt;</span><span class="hl-3">TDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> = </span><span class="hl-3">Decorator</span><span class="hl-1">, </span><span class="hl-3">T</span><span class="hl-1"> = </span><span class="hl-3">unknown</span><span class="hl-1">&gt; {</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-3">ClassTableUpdateTypes</span><span class="hl-1">; </span><span class="hl-6">// enum: { METADATA_ADDED, METADATA_REMOVED }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">decorator</span><span class="hl-1">: </span><span class="hl-3">TDecorator</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">targetClass</span><span class="hl-1">: </span><span class="hl-3">IClass</span><span class="hl-1">&lt;</span><span class="hl-3">T</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">decoratedElement</span><span class="hl-1">: {</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-3">DecoratedElementType</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">name</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">isStatic</span><span class="hl-1">: </span><span class="hl-3">boolean</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">parameterIndex</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p><code>type</code> - type of update: if metadata/decorator was added or removed.</p>
<p><code>decorator</code> - decorator object itself.</p>
<p><code>targetClass</code> - class with modified decorators.</p>
<p><code>decoratedElement</code> - info about the decorated element:</p>
<ul>
<li>
<p><code>type</code> - class member type (Constructor, Method, Parametersâ€¦ etc.).</p>
</li>
<li>
<p><code>name</code> - class member name.</p>
</li>
<li>
<p><code>isStatic</code> - if a class member is static or not.</p>
</li>
<li>
<p><code>parameterIndex</code> - in case of parameter - parameter index</p>
</li>
</ul>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:annotation-decorators" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Annotation Decorators<a href="#md:annotation-decorators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="#md:annotation-decorators">Annotation Decorators</a> is the decoration mechanism for the code annotations in TypeScript, that is provided by the <strong><code>reflector</code></strong> package. It gives the possibility to label different class members and parameters. The <strong><code>reflector</code></strong> package uses them to query class structure. Below you can find information on how to create and use annotation decorators to make them available for the Reflector.</p>
<p>If you want to get additional information on how the Reflector retrieves information about annotation decorators, please refer to <strong>Architectural Notes: <a href="#md:behind-the-scene-of-annotation-decorators">Behind the Scene of Annotation Decorators</a></strong>.</p>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:create-annotation-decorators" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Create Annotation Decorators<a href="#md:create-annotation-decorators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can define an annotation decorator in the next 4 steps.</p>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:step-1-define-decorator-function" class="tsd-anchor"></a><h4 class="tsd-anchor-link">STEP 1: Define Decorator Function<a href="#md:step-1-define-decorator-function" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>As with <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">Type Script decorators</a>, you need to define the decorator function. But the decorator function has to contain a call: <code>Decorator.build()</code>, that expects an annotation decorator class of <a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/decorators/Decorator.ts">Decorator</a> type as parameter (step 2).</p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:step-2-define-decorator-class" class="tsd-anchor"></a><h4 class="tsd-anchor-link">STEP 2: Define Decorator Class<a href="#md:step-2-define-decorator-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The next step is to define a new <code>AnnotationDecorator</code> class by extending abstract <a href="https://github.com/semaver/split-ts/blob/master/packages/reflector/src/com/split/decorators/Decorator.ts">Decorator</a> class from <strong><code>reflector</code></strong> package. The main purpose of <code>AnnotationDecorator</code> class is to define/overwrite decoration policies (step 3) and define accepted by decorator function arguments (step 4).</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:optional-step-3-define-decoration-policies" class="tsd-anchor"></a><h4 class="tsd-anchor-link">[OPTIONAL] STEP 3: Define Decoration Policies<a href="#md:optional-step-3-define-decoration-policies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Decoration policies are required to define the rules for decorators' behavior in specific cases, mostly connected to class inheritance.
Currently, there are 5 policies:</p>
<ul>
<li><strong><a href="#md:access-policy">Access Policy</a></strong> defines if the decorator can be applied to a specific member, argument, or member group:
<ul>
<li>Default <code>ALL</code> - the decorator can be applied for all <a href="#md:reflected-types">Reflected Types</a>.</li>
</ul>
</li>
<li><strong><a href="#md:same-target-multi-usage-policy">Same-Target-Multi-Usage Policy</a></strong> defines the behavior of the decorator if the class member or the argument has more than one decorator of the same type for the same class member or argument:
<ul>
<li>Default <code>NOT_ALLOWED</code> - only the first decorator will be used.</li>
</ul>
</li>
<li><strong><a href="#md:collision-policy">Collision Policy</a></strong> defines the behavior of the decorator if it <strong>EXISTS IN BOTH</strong> the child class and its direct parent class for the same class member or argument:
<ul>
<li>Default <code>OVERRIDE_PARENT</code> - the decorator of the child class will be used.</li>
</ul>
</li>
<li><strong><a href="#md:not-existence-policy">Not-Existence Policy</a></strong> defines the behavior of the decorator if it does <strong>NOT EXIST</strong> in child class, but <strong>EXISTS</strong> in its direct parent class for the same class member or argument:
<ul>
<li>Default <code>APPLY</code> - the decorator of the direct parent class will be used.</li>
</ul>
</li>
<li><strong><a href="#md:appearance-policy">Appearance Policy</a></strong> defines the behavior of the decorator if it <strong>EXISTS</strong> in the child class but does <strong>NOT EXIST</strong> in the direct parent class for the same class member or argument:
<ul>
<li>Default <code>APPLY</code> - the decorator of the child class will be used.</li>
</ul>
</li>
</ul>
<blockquote>
<p>:information_source: Detailed information on decoration policies and their parameters can be found here: <a href="#md:decoration-policies">Decoration Policies</a></p>
</blockquote>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">IFunction</span><span class="hl-1">, </span><span class="hl-0">IType</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/core&quot;</span><span class="hl-1">;</span><br/><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">, </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-6">// allowed only for </span><br/><span class="hl-1">    </span><span class="hl-6">// instance properties,</span><br/><span class="hl-1">    </span><span class="hl-6">// instance accessors,</span><br/><span class="hl-1">    </span><span class="hl-6">// parameters in constructors</span><br/><span class="hl-1">    </span><span class="hl-6">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_PROPERTY</span><br/><span class="hl-1">            | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_ACCESSOR</span><br/><span class="hl-1">            | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PARAMETER_IN_CONSTRUCTOR</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// if decorator exists on the same class member or parameter in child class and superclass,</span><br/><span class="hl-1">    </span><span class="hl-6">// child class decorator will be used</span><br/><span class="hl-1">    </span><span class="hl-6">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataCollisionPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">MetadataCollisionPolicy</span><span class="hl-1">.</span><span class="hl-5">OVERRIDE_PARENT</span><span class="hl-1">;</span><br/><span class="hl-1">      }</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// if decorator exists on the class member or parameter in superclass, but does not exist in child class,  </span><br/><span class="hl-1">    </span><span class="hl-6">// superclass decorator will be used for child class member</span><br/><span class="hl-1">    </span><span class="hl-6">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">.</span><span class="hl-5">APPLY</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// multiple decorators on the same class member or parameter is not allowed</span><br/><span class="hl-1">    </span><span class="hl-6">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<p><strong>Policy Provider</strong></p>
<p>The approach above is very general: we use the same policies for selected class members and parameters. It is also possible to have different sets of policies for different reflection types. To do this, we need to define them via Policy Provider.</p>
<p>For example, let's create a decorator that is allowed for methods (MetadataAccessPolicy.METHOD) and properties (MetadataAccessPolicy.PROPERTY). All policies are the same, except SameTargetMultiUsagePolicy. SameTargetMultiUsagePolicy allows using multiple decorators for an instance method and properties but does not allow this for static methods and properties. Other reflection types are not configured in MetadataAccessPolicy, so any policies for them will be ignored.</p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">annotation</span><span class="hl-1">(</span><span class="hl-0">type</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">, ...</span><span class="hl-0">params</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">[]): </span><span class="hl-3">IFunction</span><span class="hl-1">&lt;</span><span class="hl-3">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AnnotationDecorator</span><span class="hl-1">());</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">  </span><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-2">static</span><span class="hl-1"> </span><span class="hl-0">policyProvider</span><span class="hl-1">: </span><span class="hl-3">IPolicyProvider</span><span class="hl-1"> =</span><br/><span class="hl-1">          </span><span class="hl-6">// decorator is allowed for methods and properties only	</span><br/><span class="hl-1">          </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">PolicyProvider</span><span class="hl-1">(</span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">METHOD</span><span class="hl-1"> | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">PROPERTY</span><span class="hl-1">)</span><br/><span class="hl-1">                  .</span><span class="hl-4">setAppearancePolicy</span><span class="hl-1">(</span><span class="hl-0">MetadataAppearancePolicy</span><span class="hl-1">.</span><span class="hl-5">DEFAULT</span><span class="hl-1">)</span><br/><span class="hl-1">                  .</span><span class="hl-4">setCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">MetadataCollisionPolicy</span><span class="hl-1">.</span><span class="hl-5">DEFAULT</span><span class="hl-1">)</span><br/><span class="hl-1">                  .</span><span class="hl-4">setNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">MetadataNotExistencePolicy</span><span class="hl-1">.</span><span class="hl-5">DEFAULT</span><span class="hl-1">)</span><br/><span class="hl-1">                  </span><span class="hl-6">// it is allowed to have multiple decorators for instance methods and properties</span><br/><span class="hl-1">                  .</span><span class="hl-4">setSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_METHOD</span><span class="hl-1"> | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">INST_PROPERTY</span><span class="hl-1">)</span><br/><span class="hl-1">                  </span><span class="hl-6">// it is NOT allowed to have multiple decorators for static methods and properties</span><br/><span class="hl-1">                  .</span><span class="hl-4">setSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">STATIC_METHOD</span><span class="hl-1"> | </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">STATIC_PROPERTY</span><span class="hl-1">)</span><br/><span class="hl-1">                  </span><span class="hl-6">// it is IGNORED, cause MetadataAccessPolicy is not congigured for the CONSTRUCTOR</span><br/><span class="hl-1">                  .</span><span class="hl-4">setSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1">.</span><span class="hl-5">ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">                          </span><span class="hl-0">MetadataAccessPolicy</span><span class="hl-1">.</span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1">)</span><br/><br/><span class="hl-1">  ;</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getAccessPolicy</span><span class="hl-1">(): </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-4">getAccessPolicy</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getAppearancePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataAppearancePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-4">getAppearancePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-4">getNotExistencePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataCollisionPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-4">getCollisionPolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">: </span><span class="hl-3">PrimitiveMetadataAccessPolicy</span><span class="hl-1">): </span><span class="hl-3">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">AnnotationDecorator</span><span class="hl-1">.</span><span class="hl-0">policyProvider</span><span class="hl-1">.</span><span class="hl-4">getSameTargetMultiUsagePolicy</span><span class="hl-1">(</span><span class="hl-0">access</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:optional-step-4-define-decorator-parameters" class="tsd-anchor"></a><h4 class="tsd-anchor-link">[OPTIONAL] STEP 4: Define Decorator Parameters<a href="#md:optional-step-4-define-decorator-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If necessary, it's possible to set different custom parameters for the annotation decorator.</p>
<pre><code class="ts"><span class="hl-7">import</span><span class="hl-1"> {</span><span class="hl-0">Decorator</span><span class="hl-1">} </span><span class="hl-7">from</span><span class="hl-1"> </span><span class="hl-8">&quot;@semaver/reflector&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-4">annotation</span><span class="hl-1">(): </span><span class="hl-3">DecoratorFn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">Decorator</span><span class="hl-1">.</span><span class="hl-4">build</span><span class="hl-1">(</span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-4">AnnotationDecorator</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">, </span><span class="hl-8">&quot;someString&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">AnnotationDecorator</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">Decorator</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">myParam1</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-2">protected</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-0">myParam2</span><span class="hl-1">: </span><span class="hl-3">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">myParam1</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">, </span><span class="hl-0">myParam2</span><span class="hl-1">: </span><span class="hl-3">number</span><span class="hl-1">){</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam1</span><span class="hl-1"> = </span><span class="hl-0">myParam1</span><span class="hl-1">;</span><br/><span class="hl-1">        </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam2</span><span class="hl-1"> = </span><span class="hl-0">myParam2</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getParam1</span><span class="hl-1">(): </span><span class="hl-3">number</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam1</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getParam2</span><span class="hl-1">(): </span><span class="hl-3">string</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam2</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-6">/* override */</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">getParameters</span><span class="hl-1">(): </span><span class="hl-3">ReadonlyArray</span><span class="hl-1">&lt;</span><span class="hl-3">unknown</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">        </span><span class="hl-7">return</span><span class="hl-1"> [</span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam1</span><span class="hl-1">, </span><span class="hl-2">this</span><span class="hl-1">.</span><span class="hl-0">myParam2</span><span class="hl-1">];</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:use-annotation-decorators" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Use Annotation Decorators<a href="#md:use-annotation-decorators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The annotation decorators are applied in the same manner as typical <a href="https://www.typescriptlang.org/docs/handbook/decorators.html">TypeScript decorators</a>: @decorator. However, the use of the <a href="#md:decoration-policies">Decoration Policies</a> can make significant difference.</p>
<p>For example, for <code>@annotation</code> the Access policy is set to <code>MetadataAccessPolicy.PROPERTY</code>. The decorator is allowed on class properties only, for all other use cases it will be ignored.</p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">MyClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">MySuperClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-6">// ALLOWED</span><br/><span class="hl-1">    @</span><span class="hl-4">annotation</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-0">data</span><span class="hl-1">: </span><span class="hl-3">MyData</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><br/><span class="hl-1">     </span><span class="hl-6">// NOT ALLOWED BY ACCESS POLICY -&gt; IGNORED</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(@</span><span class="hl-4">annotation</span><span class="hl-1">() </span><span class="hl-0">myOtherData</span><span class="hl-1">: </span><span class="hl-3">MyOtherData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">    </span><span class="hl-6">// NOT ALLOWED BY ACCESS POLICY -&gt; IGNORED</span><br/><span class="hl-1">    @</span><span class="hl-4">annotation</span><span class="hl-1">()</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-4">myMethod</span><span class="hl-1">(</span><span class="hl-0">myOtherData</span><span class="hl-1">:</span><span class="hl-3">MyOtherData</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<blockquote>
<p>:warning: <strong>Constructor Parameters</strong>: If you define the constructor in the child class (override parent constructor), then you have to apply decorators for constructor parameters again. Overriding of the parent constructor is handled similarly to a definition of a new method, so no policies that are defined in the parent constructor can be applied. Detailed explanation of this case can be found here: <a href="#md:annotation-decorators-usage-for-constructor-parameters">Annotation Decorators Usage for Constructor Parameters</a>;</p>
</blockquote>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:decoration-policies" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Decoration Policies<a href="#md:decoration-policies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Decoration policies are required to define the rules for decorators' behavior in specific cases. Currently, there are 2 general policies and 3 class inheritance policies:</p>
<p><strong>General Policies:</strong></p>
<ul>
<li><a href="#md:access-policy">Access Policy</a></li>
<li><a href="#md:same-target-multi-usage-policy">Same-Target-Multi-Usage Policy</a></li>
</ul>
<p><strong>Class Inheritance Policies:</strong></p>
<ul>
<li><a href="#md:collision-policy">Collision Policy</a></li>
<li><a href="#md:not-existence-policy">Not-Existence Policy</a></li>
<li><a href="#md:appearance-policy">Appearance Policy</a></li>
</ul>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:access-policy" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Access Policy<a href="#md:access-policy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>MetadataAccessPolicy</code> -defines, if the decorator can be applied to a specific member, argument, or member group.</p>
<p>Default: <code>MetadataAccessPolicy.ALL</code></p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataAccessPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">NONE</span><span class="hl-1"> = </span><span class="hl-11">0</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1"> = </span><span class="hl-11">1</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">INST_PROPERTY</span><span class="hl-1"> = </span><span class="hl-11">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">STATIC_PROPERTY</span><span class="hl-1"> = </span><span class="hl-11">4</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PROPERTY</span><span class="hl-1"> = </span><span class="hl-5">INST_PROPERTY</span><span class="hl-1"> | </span><span class="hl-5">STATIC_PROPERTY</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">INST_ACCESSOR</span><span class="hl-1"> = </span><span class="hl-11">8</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">STATIC_ACCESSOR</span><span class="hl-1"> = </span><span class="hl-11">16</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">ACCESSOR</span><span class="hl-1"> = </span><span class="hl-5">INST_ACCESSOR</span><span class="hl-1"> | </span><span class="hl-5">STATIC_ACCESSOR</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">INST_METHOD</span><span class="hl-1"> = </span><span class="hl-11">32</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">STATIC_METHOD</span><span class="hl-1"> = </span><span class="hl-11">64</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">METHOD</span><span class="hl-1"> = </span><span class="hl-5">INST_METHOD</span><span class="hl-1"> | </span><span class="hl-5">STATIC_METHOD</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_CONSTRUCTOR</span><span class="hl-1"> = </span><span class="hl-11">128</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_INST_METHOD</span><span class="hl-1"> = </span><span class="hl-11">256</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_STATIC_METHOD</span><span class="hl-1"> = </span><span class="hl-11">512</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER_IN_METHOD</span><span class="hl-1"> = </span><span class="hl-5">PARAMETER_IN_INST_METHOD</span><span class="hl-1"> | </span><span class="hl-5">PARAMETER_IN_STATIC_METHOD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">PARAMETER</span><span class="hl-1"> = </span><span class="hl-5">PARAMETER_IN_CONSTRUCTOR</span><span class="hl-1"> | </span><span class="hl-5">PARAMETER_IN_METHOD</span><span class="hl-1">,</span><br/><br/><span class="hl-1">    </span><span class="hl-5">ALL</span><span class="hl-1"> = </span><span class="hl-5">CONSTRUCTOR</span><span class="hl-1"> | </span><span class="hl-5">PROPERTY</span><span class="hl-1"> | </span><span class="hl-5">ACCESSOR</span><span class="hl-1"> | </span><span class="hl-5">METHOD</span><span class="hl-1"> | </span><span class="hl-5">PARAMETER</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:same-target-multi-usage-policy" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Same-Target-Multi-Usage Policy<a href="#md:same-target-multi-usage-policy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>MetadataSameTargetMultiUsagePolicy</code> - defines the behavior for the decorator if the class member or the argument has more than one decorator of the same type for the <strong>same class member or argument</strong>:</p>
<ul>
<li><code>ALLOWED</code> - all decorators are registered;</li>
<li><code>NOT_ALLOWED</code> - only the first decorator is registered.</li>
</ul>
<p>Default: <code>MetadataSameTargetMultiUsagePolicy.NOT_ALLOWED</code></p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataSameTargetMultiUsagePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">NOT_ALLOWED</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:collision-policy" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Collision Policy<a href="#md:collision-policy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>MetadataCollisionPolicy </code> - defines the behavior for the decorator if it <strong>EXISTS IN BOTH</strong> the child class and its direct parent class for the same class member or argument:</p>
<ul>
<li><code>SKIP</code> - both decorators (from the child class and the direct parent class) are <strong>not used</strong> for the child class;</li>
<li><code>OVERRIDE_CHILD</code> - decorator from the direct parent class is used for the child class;</li>
<li><code>OVERRIDE_PARENT</code>- decorator from the child class is used for the child class;</li>
<li><code>JOIN</code> - both decorators (from the child class and the direct parent class) are <strong>used</strong> for the child class;</li>
<li><code>THROW_ERROR</code> - if the collision happens, the error will be thrown.</li>
</ul>
<p>Default: <code>MetadataCollisionPolicy.OVERRIDE_PARENT</code></p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataCollisionPolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">SKIP</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">OVERRIDE_CHILD</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">OVERRIDE_PARENT</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">JOIN</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">THROW_ERROR</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">OVERRIDE_PARENT</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:not-existence-policy" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Not-Existence Policy<a href="#md:not-existence-policy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>MetadataNotExistencePolicy</code> - defines the behavior of the decorator if it does <strong>NOT EXIST</strong> in child class, but <strong>EXISTS</strong> in its direct parent class for the same class member or argument:</p>
<ul>
<li><code>SKIP</code> - decorator from the direct parent class is <strong>not used</strong> for the child class;</li>
<li><code>APPLY</code> - decorator from the direct parent class is <strong>used</strong> for the child class.</li>
</ul>
<p>Default: <code>MetadataNotExistencePolicy.APPLY</code></p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataNotExistencePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">SKIP</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:appearance-policy" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Appearance Policy<a href="#md:appearance-policy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>MetadataAppearancePolicy</code> - defines the behavior of the decorator if it <strong>EXISTS</strong> in the child class but does <strong>NOT EXIST</strong> in the direct parent class for the same class member or argument.</p>
<ul>
<li><code>SKIP</code> - decorator from the child class is <strong>not used</strong> if the other decorator is found in any non-direct parent (superclass which is higher in the hierarchy, but not the direct parent. Situations with the direct parent are covered in <a href="#md:collision-policy">Collision Policy</a>);</li>
<li><code>APPLY</code> - decorator from the child class is used, ignoring any other superclass decorators.</li>
</ul>
<p>Default: <code>MetadataAppearancePolicy.APPLY</code></p>
<pre><code class="ts"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">enum</span><span class="hl-1"> </span><span class="hl-3">MetadataAppearancePolicy</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">SKIP</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">DEFAULT</span><span class="hl-1"> = </span><span class="hl-5">APPLY</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:architectural-notes" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Architectural Notes<a href="#md:architectural-notes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:reflected-types-architecture" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Reflected Types Architecture<a href="#md:reflected-types-architecture" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The diagram shows supported reflected types of class members &amp; parameters with supported API for these types.</p>
<p><img src="https://raw.githubusercontent.com/semaver/core-stack/main/packages/reflector/diagrams/reflector-class-members.svg" alt=""></p>
<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:behind-the-scene-of-annotation-decorators" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Behind the Scene of Annotation Decorators<a href="#md:behind-the-scene-of-annotation-decorators" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Usage of <a href="#md:annotation-decorators">Annotation Decorators</a> is necessary if you want the Reflector to return information on decorated class members.</p>
<p><strong>So how is this information provided?</strong></p>
<p>Every reflected class gets two properties: <code>__metadata__</code> &amp; <code>__cached_metadata__</code>:</p>
<ul>
<li><strong>metadata property</strong> contains the class own information on decorated class members;</li>
<li><strong>cached_metadata property</strong> contains class own info(<strong>metadata property</strong>) merged with its superclass <strong>cached_metadata property</strong> based on the <a href="#md:decoration-policies">Decoration Policies</a>.</li>
</ul>
<p>To support the inheritance of decorated class members, acc. to the <a href="#md:decoration-policies">Decoration Policies</a>, the calculation and recalculation (in case of any changes) for the <strong>cached_metadata</strong> property is required. The calculation starts from the top superclass and then goes step by step through the chain of all child classes. <strong>cached_metadata</strong> is optimized with cache to avoid unnecessary recalculations.</p>
<p>To retrieve the latest state of class metadata information, the Reflector works directly with the <strong>cached_metadata</strong> property.</p>
<pre><code class="ts"><span class="hl-6">// __metadata__ = decorators of SuperClass only</span><br/><span class="hl-6">// __cached_metadata__ = __metadata__(SuperClass)</span><br/><span class="hl-1">@</span><span class="hl-4">annotation</span><span class="hl-1">()</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// __metadata__ = decorators of ChildClass only</span><br/><span class="hl-6">// __cached_metadata = </span><br/><span class="hl-6">//          __metadata__(ChildClass) merged with __cached_metadata__(SuperClass) based on policies</span><br/><span class="hl-1">@</span><span class="hl-4">annotation</span><span class="hl-1">()</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// __metadata__ = decorators of ChildOfChildClass only</span><br/><span class="hl-6">// __cached_metadata = </span><br/><span class="hl-6">//          __metadata__(ChildOfChildClass) merged with __cached_metadata__(ChildClass) based on policies</span><br/><span class="hl-1">@</span><span class="hl-4">annotation</span><span class="hl-1">()</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ChildOfChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">ChildClass</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
<a id="md:annotation-decorators-usage-for-constructor-parameters" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Annotation Decorators Usage for Constructor Parameters<a href="#md:annotation-decorators-usage-for-constructor-parameters" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you define the constructor in the child class (override parent constructor), then you have to apply decorators for constructor parameters again. Overriding of the parent constructor is handled similarly to a definition of a new method, so no policies that are defined in the parent constructor can be applied.</p>
<p>Let's check some examples to understand why this is important, even when the child constructor has a similar signature.</p>
<p>First, we define a superclass with parameters in the constructor:</p>
<pre><code class="ts"><span class="hl-6">// superclass definition</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Second, we define child classes that are extending superclass:</p>
<pre><code class="ts"><span class="hl-6">// child class with same parameter order</span><br/><span class="hl-6">// constructor known parameters length = 2</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithSameParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// child class with custom parameter order</span><br/><span class="hl-6">// constructor known parameters length = 2</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithCustomParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">, </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// child class with args</span><br/><span class="hl-6">// constructor known parameters length = 0</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ArgsChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">:</span><span class="hl-3">any</span><span class="hl-1">[]) {</span><br/><span class="hl-1">        </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">0</span><span class="hl-1">], </span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">1</span><span class="hl-1">])</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// child class with default constructor</span><br/><span class="hl-6">// constructor known parameters length = 0</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">EmptyCosntructorChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<p>Now let's add some annotation decorator(e.g. <code>@inject</code>) to constructor parameters with <code>MetadataNotExistencePolicy.APPLY</code> policy. This policy means that if the decorator does not exist in the child class, but exists in the direct parent class on the same parameter in the constructor, the Reflector uses the decorator from the direct parent class in the child class.</p>
<p>So let's decorate the superclass:</p>
<pre><code class="ts"><span class="hl-6">// superclass definition</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">          @</span><span class="hl-4">inject</span><span class="hl-1">(</span><span class="hl-0">FirstData</span><span class="hl-1">) </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">,</span><br/><span class="hl-1">          @</span><span class="hl-4">inject</span><span class="hl-1">(</span><span class="hl-0">SecondData</span><span class="hl-1">) </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>The major problem with the propagation of the decorator to the child constructor parameters is that we know only parameter positions, but we don't know parameter types because they are erased in JavaScript. So there is no way to handle the case in <code>WithCustomParameterOrderChildClass</code>. Even more, the constructor can be defined with extra parameters or with a single one, can contain optional parameters, etc.</p>
<p>That's why the main and important rule for constructors:</p>
<blockquote>
<p>:warning: If constructor parameter length &gt; 0 (aka <code>knowParameterLength</code>) we need to redefine decorators even if the order of parameters is the same in the superclass.</p>
</blockquote>
<pre><code class="ts"><span class="hl-6">// child class with same parameter order</span><br/><span class="hl-6">// constructor known parameters length = 2</span><br/><span class="hl-6">// REDEFINE DECORATORS</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithSameParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">          @</span><span class="hl-4">inject</span><span class="hl-1">(</span><span class="hl-0">FirstData</span><span class="hl-1">) </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">,</span><br/><span class="hl-1">          @</span><span class="hl-4">inject</span><span class="hl-1">(</span><span class="hl-0">SecondData</span><span class="hl-1">) </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// child class with custom parameter order</span><br/><span class="hl-6">// constructor known parameters length = 2</span><br/><span class="hl-6">// REDEFINE DECORATORS</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">WithCustomParameterOrderChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(</span><br/><span class="hl-1">          @</span><span class="hl-4">inject</span><span class="hl-1">(</span><span class="hl-0">SecondData</span><span class="hl-1">) </span><span class="hl-0">dataB</span><span class="hl-1">: </span><span class="hl-3">SecondData</span><span class="hl-1">,</span><br/><span class="hl-1">          @</span><span class="hl-4">inject</span><span class="hl-1">(</span><span class="hl-0">FirstData</span><span class="hl-1">) </span><span class="hl-0">dataA</span><span class="hl-1">: </span><span class="hl-3">FirstData</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">dataA</span><span class="hl-1">, </span><span class="hl-0">dataB</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// child class with args</span><br/><span class="hl-6">// constructor known parameters length = 0</span><br/><span class="hl-6">// NOT REDEFINE DECORATORS</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">ArgsChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">constructor</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-3">any</span><span class="hl-1">[]) {</span><br/><span class="hl-1">    </span><span class="hl-2">super</span><span class="hl-1">(</span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">0</span><span class="hl-1">], </span><span class="hl-0">args</span><span class="hl-1">[</span><span class="hl-11">1</span><span class="hl-1">])</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">// child class with default constructor</span><br/><span class="hl-6">// constructor known parameters length = 0</span><br/><span class="hl-6">// NOT REDEFINE DECORATORS</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-2">class</span><span class="hl-1"> </span><span class="hl-3">EmptyCosntructorChildClass</span><span class="hl-1"> </span><span class="hl-2">extends</span><span class="hl-1"> </span><span class="hl-3">SuperClass</span><span class="hl-1"> {</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<p><a href="#md:reflector-documentation">back</a></p>
</section><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><h3 class="tsd-index-heading uppercase">Index</h3><section class="tsd-index-section"><h3 class="tsd-index-heading">Enumerations</h3><div class="tsd-index-list"><a href="../enums/_semaver_reflector.AccessType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Access<wbr/>Type</span></a>
<a href="../enums/_semaver_reflector.ClassTableNames.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Class<wbr/>Table<wbr/>Names</span></a>
<a href="../enums/_semaver_reflector.ClassTableUpdateTypes.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Class<wbr/>Table<wbr/>Update<wbr/>Types</span></a>
<a href="../enums/_semaver_reflector.MetadataAccessPolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Metadata<wbr/>Access<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataAppearancePolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Metadata<wbr/>Appearance<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataClassNames.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Metadata<wbr/>Class<wbr/>Names</span></a>
<a href="../enums/_semaver_reflector.MetadataCollisionPolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Metadata<wbr/>Collision<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataNotExistencePolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Metadata<wbr/>Not<wbr/>Existence<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.MetadataSameTargetMultiUsagePolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Metadata<wbr/>Same<wbr/>Target<wbr/>Multi<wbr/>Usage<wbr/>Policy</span></a>
<a href="../enums/_semaver_reflector.PrimitiveMetadataAccessPolicy.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-8"></use></svg><span>Primitive<wbr/>Metadata<wbr/>Access<wbr/>Policy</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Classes</h3><div class="tsd-index-list"><a href="../classes/_semaver_reflector.Accessor.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Accessor</span></a>
<a href="../classes/_semaver_reflector.ByDecoratorClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>By<wbr/>Decorator<wbr/>Class</span></a>
<a href="../classes/_semaver_reflector.ByMemberDecoratorClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>By<wbr/>Member<wbr/>Decorator<wbr/>Class</span></a>
<a href="../classes/_semaver_reflector.ByMemberName.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>By<wbr/>Member<wbr/>Name</span></a>
<a href="../classes/_semaver_reflector.ByMemberType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>By<wbr/>Member<wbr/>Type</span></a>
<a href="../classes/_semaver_reflector.ByParameterDecoratorClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>By<wbr/>Parameter<wbr/>Decorator<wbr/>Class</span></a>
<a href="../classes/_semaver_reflector.ByStaticMember.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>By<wbr/>Static<wbr/>Member</span></a>
<a href="../classes/_semaver_reflector.ClassMember.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Member</span></a>
<a href="../classes/_semaver_reflector.ClassMemberAccessError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Access<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberNotExistenceError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Not<wbr/>Existence<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberNotFoundError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Not<wbr/>Found<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberTargetObjectTypeError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Target<wbr/>Object<wbr/>Type<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassMemberTargetUndefinedError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Member<wbr/>Target<wbr/>Undefined<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ClassTable.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Table</span></a>
<a href="../classes/_semaver_reflector.ClassTableProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Class<wbr/>Table<wbr/>Provider</span></a>
<a href="../classes/_semaver_reflector.CollisionPolicyError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Collision<wbr/>Policy<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.Constructor.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Constructor</span></a>
<a href="../classes/_semaver_reflector.ConstructorParameter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Constructor<wbr/>Parameter</span></a>
<a href="../classes/_semaver_reflector.DecoratedElement.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Decorated<wbr/>Element</span></a>
<a href="../classes/_semaver_reflector.Decorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Decorator</span></a>
<a href="../classes/_semaver_reflector.DecoratorUndefinedError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Decorator<wbr/>Undefined<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ExecutableMember.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Executable<wbr/>Member</span></a>
<a href="../classes/_semaver_reflector.Field.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Field</span></a>
<a href="../classes/_semaver_reflector.MetaclassDecorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Metaclass<wbr/>Decorator</span></a>
<a href="../classes/_semaver_reflector.MetadataTableProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Metadata<wbr/>Table<wbr/>Provider</span></a>
<a href="../classes/_semaver_reflector.Method.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Method</span></a>
<a href="../classes/_semaver_reflector.MethodNotFoundError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Method<wbr/>Not<wbr/>Found<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.MethodParameter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Method<wbr/>Parameter</span></a>
<a href="../classes/_semaver_reflector.ObjectPrimitiveError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Object<wbr/>Primitive<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.ObjectUndefinedError.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Object<wbr/>Undefined<wbr/>Error</span></a>
<a href="../classes/_semaver_reflector.Parameter.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Parameter</span></a>
<a href="../classes/_semaver_reflector.PolicyProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Policy<wbr/>Provider</span></a>
<a href="../classes/_semaver_reflector.Property.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Property</span></a>
<a href="../classes/_semaver_reflector.QueryDecoratorSelector.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Query<wbr/>Decorator<wbr/>Selector</span></a>
<a href="../classes/_semaver_reflector.QueryExecutor.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Query<wbr/>Executor</span></a>
<a href="../classes/_semaver_reflector.QueryInfo.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Query<wbr/>Info</span></a>
<a href="../classes/_semaver_reflector.QueryMembersSelector.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Query<wbr/>Members<wbr/>Selector</span></a>
<a href="../classes/_semaver_reflector.ReflectDecorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Reflect<wbr/>Decorator</span></a>
<a href="../classes/_semaver_reflector.Reflector.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-128"></use></svg><span>Reflector</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Interfaces</h3><div class="tsd-index-list"><a href="../interfaces/_semaver_reflector.DecoratedElementType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Decorated<wbr/>Element<wbr/>Type</span></a>
<a href="../interfaces/_semaver_reflector.DecoratedElementTypeValues.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Decorated<wbr/>Element<wbr/>Type<wbr/>Values</span></a>
<a href="../interfaces/_semaver_reflector.DecoratorFn.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Decorator<wbr/>Fn</span></a>
<a href="../interfaces/_semaver_reflector.IClassTable.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IClass<wbr/>Table</span></a>
<a href="../interfaces/_semaver_reflector.IClassTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IClass<wbr/>Table<wbr/>Ref</span></a>
<a href="../interfaces/_semaver_reflector.IClassTableSubscriber.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IClass<wbr/>Table<wbr/>Subscriber</span></a>
<a href="../interfaces/_semaver_reflector.IClassTableUpdate.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IClass<wbr/>Table<wbr/>Update</span></a>
<a href="../interfaces/_semaver_reflector.IDecoratedElement.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IDecorated<wbr/>Element</span></a>
<a href="../interfaces/_semaver_reflector.IMemberMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IMember<wbr/>Metadata</span></a>
<a href="../interfaces/_semaver_reflector.IMemberMetadataTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IMember<wbr/>Metadata<wbr/>Table<wbr/>Ref</span></a>
<a href="../interfaces/_semaver_reflector.IMetadataClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IMetadata<wbr/>Class</span></a>
<a href="../interfaces/_semaver_reflector.IMetadataTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IMetadata<wbr/>Table<wbr/>Ref</span></a>
<a href="../interfaces/_semaver_reflector.IMetatableDecorator.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IMetatable<wbr/>Decorator</span></a>
<a href="../interfaces/_semaver_reflector.IPolicyProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IPolicy<wbr/>Provider</span></a>
<a href="../interfaces/_semaver_reflector.IQueryCondition.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IQuery<wbr/>Condition</span></a>
<a href="../interfaces/_semaver_reflector.IStructureMetadataTableRef.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>IStructure<wbr/>Metadata<wbr/>Table<wbr/>Ref</span></a>
<a href="../interfaces/_semaver_reflector.MetadataAccessPolicyType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Access<wbr/>Policy<wbr/>Type</span></a>
<a href="../interfaces/_semaver_reflector.MetadataAccessPolicyValues.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Access<wbr/>Policy<wbr/>Values</span></a>
<a href="../interfaces/_semaver_reflector.MetadataAppearancePolicyType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Appearance<wbr/>Policy<wbr/>Type</span></a>
<a href="../interfaces/_semaver_reflector.MetadataAppearancePolicyValues.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Appearance<wbr/>Policy<wbr/>Values</span></a>
<a href="../interfaces/_semaver_reflector.MetadataCollisionPolicyType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Collision<wbr/>Policy<wbr/>Type</span></a>
<a href="../interfaces/_semaver_reflector.MetadataCollisionPolicyValues.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Collision<wbr/>Policy<wbr/>Values</span></a>
<a href="../interfaces/_semaver_reflector.MetadataNotExistencePolicyType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Not<wbr/>Existence<wbr/>Policy<wbr/>Type</span></a>
<a href="../interfaces/_semaver_reflector.MetadataNotExistencePolicyValues.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Not<wbr/>Existence<wbr/>Policy<wbr/>Values</span></a>
<a href="../interfaces/_semaver_reflector.MetadataSameTargetMultiUsagePolicyType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Same<wbr/>Target<wbr/>Multi<wbr/>Usage<wbr/>Policy<wbr/>Type</span></a>
<a href="../interfaces/_semaver_reflector.MetadataSameTargetMultiUsagePolicyValues.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Metadata<wbr/>Same<wbr/>Target<wbr/>Multi<wbr/>Usage<wbr/>Policy<wbr/>Values</span></a>
<a href="../interfaces/_semaver_reflector.PrimitiveMetadataAccessPolicyType.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Primitive<wbr/>Metadata<wbr/>Access<wbr/>Policy<wbr/>Type</span></a>
<a href="../interfaces/_semaver_reflector.PrimitiveMetadataAccessPolicyValues.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-256"></use></svg><span>Primitive<wbr/>Metadata<wbr/>Access<wbr/>Policy<wbr/>Values</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Functions</h3><div class="tsd-index-list"><a href="../functions/_semaver_reflector.getAccessorMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Accessor<wbr/>Metadata</span></a>
<a href="../functions/_semaver_reflector.getConstructorMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Constructor<wbr/>Metadata</span></a>
<a href="../functions/_semaver_reflector.getKnownConstructorParameterLength.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Known<wbr/>Constructor<wbr/>Parameter<wbr/>Length</span></a>
<a href="../functions/_semaver_reflector.getMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Metadata</span></a>
<a href="../functions/_semaver_reflector.getMetadataObjectSuperClassChain.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Metadata<wbr/>Object<wbr/>Super<wbr/>Class<wbr/>Chain</span></a>
<a href="../functions/_semaver_reflector.getMethodMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Method<wbr/>Metadata</span></a>
<a href="../functions/_semaver_reflector.getParameterMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Parameter<wbr/>Metadata</span></a>
<a href="../functions/_semaver_reflector.getPropertyMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>get<wbr/>Property<wbr/>Metadata</span></a>
<a href="../functions/_semaver_reflector.metaclass.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>metaclass</span></a>
<a href="../functions/_semaver_reflector.metadataClassOfObject.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>metadata<wbr/>Class<wbr/>Of<wbr/>Object</span></a>
<a href="../functions/_semaver_reflector.metadataSuperClassOfObject.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>metadata<wbr/>Super<wbr/>Class<wbr/>Of<wbr/>Object</span></a>
<a href="../functions/_semaver_reflector.reflect.html" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-64"></use></svg><span>reflect</span></a>
</div></section></section></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:semaverreflector"><span>@semaver/reflector</span></a><ul><li><a href="#md:about"><span>About</span></a></li><li><a href="#md:features"><span>Features</span></a></li><li><a href="#md:requirements"><span>Requirements</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li></ul><a href="#md:get-started"><span>Get <wbr/>Started</span></a><ul><li><a href="#md:examples-setup-preparation"><span>Examples <wbr/>Setup <wbr/>Preparation</span></a></li><li><a href="#md:example-1-how-to-get-class-members-with-reflector-api"><span>Example 1: <wbr/>How to get class members with <wbr/>Reflector API</span></a></li><li><ul><li><a href="#md:example-11-get-property-by-name"><span>Example 1.1 <wbr/>Get <wbr/>Property <wbr/>By <wbr/>Name</span></a></li><li><a href="#md:example-12-get-annotated-properties"><span>Example 1.2: <wbr/>Get <wbr/>Annotated <wbr/>Properties</span></a></li><li><a href="#md:example-13-get-property-by-query"><span>Example 1.3: <wbr/>Get <wbr/>Property <wbr/>By <wbr/>Query</span></a></li></ul></li><li><a href="#md:example-2-how-to-work-with-annotation-decorator-policies"><span>Example 2: <wbr/>How to work with annotation decorator policies</span></a></li><li><a href="#md:example-3-how-to-work-with-annotation-decorator-inheritance"><span>Example 3: <wbr/>How to work with annotation decorator inheritance</span></a></li><li><a href="#md:example-4-how-to-get-all-annotated-properties-in-all-classes"><span>Example 4: <wbr/>How to get all annotated properties in all classes</span></a></li><li><a href="#md:example-5-how-to-annotate-class-dynamically"><span>Example 5: <wbr/>How to annotate class dynamically</span></a></li></ul><a href="#md:reflector-documentation"><span>Reflector <wbr/>Documentation</span></a><ul><li><a href="#md:reflector-api"><span>Reflector API</span></a></li><li><ul><li><a href="#md:reflected-types"><span>Reflected <wbr/>Types</span></a></li><li><a href="#md:get-class-members-and-parameters"><span>Get <wbr/>Class <wbr/>Members and <wbr/>Parameters</span></a></li><li><a href="#md:query-class-members-and-parameters"><span>Query <wbr/>Class <wbr/>Members and <wbr/>Parameters</span></a></li><li><a href="#md:filter-class-members-and-parameters"><span>Filter <wbr/>Class <wbr/>Members and <wbr/>Parameters</span></a></li><li><ul><li><a href="#md:custom-filters"><span>Custom <wbr/>Filters</span></a></li></ul></li><li><a href="#md:decorate-class-members-and-parameters-dynamically"><span>Decorate <wbr/>Class <wbr/>Members and <wbr/>Parameters <wbr/>Dynamically</span></a></li><li><a href="#md:get-all-decorated-classes"><span>Get <wbr/>All <wbr/>Decorated <wbr/>Classes</span></a></li></ul></li><li><a href="#md:annotation-decorators"><span>Annotation <wbr/>Decorators</span></a></li><li><ul><li><a href="#md:create-annotation-decorators"><span>Create <wbr/>Annotation <wbr/>Decorators</span></a></li><li><ul><li><a href="#md:step-1-define-decorator-function"><span>STEP 1: <wbr/>Define <wbr/>Decorator <wbr/>Function</span></a></li><li><a href="#md:step-2-define-decorator-class"><span>STEP 2: <wbr/>Define <wbr/>Decorator <wbr/>Class</span></a></li><li><a href="#md:optional-step-3-define-decoration-policies"><span>[OPTIONAL] STEP 3: <wbr/>Define <wbr/>Decoration <wbr/>Policies</span></a></li><li><a href="#md:optional-step-4-define-decorator-parameters"><span>[OPTIONAL] STEP 4: <wbr/>Define <wbr/>Decorator <wbr/>Parameters</span></a></li></ul></li><li><a href="#md:use-annotation-decorators"><span>Use <wbr/>Annotation <wbr/>Decorators</span></a></li><li><a href="#md:decoration-policies"><span>Decoration <wbr/>Policies</span></a></li><li><ul><li><a href="#md:access-policy"><span>Access <wbr/>Policy</span></a></li><li><a href="#md:same-target-multi-usage-policy"><span>Same-<wbr/>Target-<wbr/>Multi-<wbr/>Usage <wbr/>Policy</span></a></li><li><a href="#md:collision-policy"><span>Collision <wbr/>Policy</span></a></li><li><a href="#md:not-existence-policy"><span>Not-<wbr/>Existence <wbr/>Policy</span></a></li><li><a href="#md:appearance-policy"><span>Appearance <wbr/>Policy</span></a></li></ul></li></ul></li><li><a href="#md:architectural-notes"><span>Architectural <wbr/>Notes</span></a></li><li><ul><li><a href="#md:reflected-types-architecture"><span>Reflected <wbr/>Types <wbr/>Architecture</span></a></li><li><a href="#md:behind-the-scene-of-annotation-decorators"><span>Behind the <wbr/>Scene of <wbr/>Annotation <wbr/>Decorators</span></a></li><li><a href="#md:annotation-decorators-usage-for-constructor-parameters"><span>Annotation <wbr/>Decorators <wbr/>Usage for <wbr/>Constructor <wbr/>Parameters</span></a></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>Semaver Libraries - v1.1.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
